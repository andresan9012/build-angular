(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+E8C":function(t,i,n){"use strict";n.r(i),n.d(i,"PanicoModule",(function(){return H}));var e=n("tk/3"),a=n("212I"),c=n("x4Iw"),o=n("W/RB"),r=n("tyNb"),s=n("PC/O"),b=n("//6i"),l=n("Exvd"),m=n("fXoL"),d=n("N/25"),u=n("wZkO"),p=n("Q6lY"),f=n("wKov"),h=n("a/SU"),g=n("PSD3"),E=n.n(g),P=n("M+Db"),C=n("0IaG"),I=n("6XFf"),w=n("JqCM"),T=n("Wp6s"),O=n("+0xr"),S=n("M9IT"),D=n("bTqV"),A=n("Qu3c"),W=n("NFeN");function v(t,i){if(1&t&&(m.Xb(0,"th",15),m.Ic(1),m.Wb()),2&t){const t=m.jc();m.Eb(1),m.Jc(t.i18n.DTO.NOMBRE_EMPRESA)}}function N(t,i){if(1&t&&(m.Xb(0,"td",16),m.Ic(1),m.Wb()),2&t){const t=i.$implicit;m.Eb(1),m.Kc("",t.nombre," ")}}function R(t,i){if(1&t&&(m.Xb(0,"th",15),m.Ic(1),m.Wb()),2&t){const t=m.jc();m.Eb(1),m.Jc(t.i18n.DTO.TIPO_EMERGENCIA)}}function X(t,i){if(1&t&&(m.Xb(0,"td",16),m.Ic(1),m.Wb()),2&t){const t=i.$implicit,n=m.jc();m.Eb(1),m.Kc(" ",n.getTipoEmergencia(t.tipoEmergencia)," ")}}function x(t,i){if(1&t&&(m.Xb(0,"th",15),m.Ic(1),m.Wb()),2&t){const t=m.jc();m.Eb(1),m.Jc(t.i18n.DTO.TELEFONO)}}function G(t,i){if(1&t&&(m.Xb(0,"td",16),m.Ic(1),m.Wb()),2&t){const t=i.$implicit;m.Eb(1),m.Kc(" ",t.telefono," ")}}function y(t,i){if(1&t&&(m.Xb(0,"th",15),m.Ic(1),m.Wb()),2&t){const t=m.jc();m.Eb(1),m.Jc(t.i18n.LEIDO)}}function j(t,i){if(1&t&&(m.Xb(0,"td",16),m.Ic(1),m.Wb()),2&t){const t=i.$implicit,n=m.jc();m.Eb(1),m.Kc(" ",t.lectura?n.i18n.SI:n.i18n.NO," ")}}function L(t,i){1&t&&m.Sb(0,"th",17)}function M(t,i){if(1&t){const t=m.Yb();m.Xb(0,"td",16),m.Xb(1,"button",18),m.fc("click",(function(){m.zc(t);const n=i.$implicit;return m.jc().editar(n)})),m.Xb(2,"mat-icon"),m.Ic(3,"edit"),m.Wb(),m.Wb(),m.Wb()}if(2&t){const t=m.jc();m.Eb(1),m.pc("matTooltip",t.i18n.EDITAR)}}function _(t,i){1&t&&m.Sb(0,"th",17)}function B(t,i){if(1&t){const t=m.Yb();m.Xb(0,"td",16),m.Xb(1,"button",18),m.fc("click",(function(){m.zc(t);const n=i.$implicit;return m.jc().eliminar(n)})),m.Xb(2,"mat-icon"),m.Ic(3,"delete"),m.Wb(),m.Wb(),m.Wb()}if(2&t){const t=m.jc();m.Eb(1),m.pc("matTooltip",t.i18n.ELIMINAR)}}function U(t,i){1&t&&m.Sb(0,"tr",19)}function K(t,i){1&t&&m.Sb(0,"tr",20)}let k=(()=>{class t{constructor(t,i,n){this.dialog=t,this.panicoService=i,this.spinner=n,this.displayedColumns=["Nombre","Tipo","Telefono","Leido","Edit","Delete"],this.paginacion=new p.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.i18n=b.a}ngOnInit(){this.spinner.show(),this.panicoService.getAlertasPanico(this.paginacion).subscribe(t=>{this.spinner.hide(),this.alertasPanico=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}getTipoEmergencia(t){return f.a.find(i=>i.id===t).descripcion||"No Definido"}editar(t){t.lectura?E.a.fire({text:""+b.a.PANICO.SWAL.LECTURA_OK,icon:"warning",confirmButtonText:""+b.a.ACEPTAR}):this.dialog.open(P.a,{data:t,width:"60vw",maxWidth:"60vw",maxHeight:"90vh",autoFocus:!1})}eliminar(t){E.a.fire({title:""+b.a.PANICO.SWAL.QUESTION_DELETE,icon:"question",showCancelButton:!0,confirmButtonText:""+b.a.SI,cancelButtonText:""+b.a.NO}).then(i=>{i.isConfirmed&&(this.spinner.show(),this.panicoService.eliminar(t.id).subscribe(()=>{this.spinner.hide(),E.a.fire({text:""+b.a.PANICO.SWAL.SUCCESS_DELETE,icon:"success",confirmButtonText:""+b.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),E.a.fire({html:""+Object(h.a)(t,b.a.PANICO.SWAL.ERROR_DELETE),icon:"error",confirmButtonText:""+b.a.ACEPTAR})}))})}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.panicoService.getAlertasPanico(this.paginacion).subscribe(t=>{this.spinner.hide(),this.alertasPanico=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}}return t.\u0275fac=function(i){return new(i||t)(m.Rb(C.b),m.Rb(I.a),m.Rb(w.c))},t.\u0275cmp=m.Lb({type:t,selectors:[["panico-gestion-panico"]],decls:26,vars:6,consts:[[1,"contenedor"],[1,"div-center"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tipo"],["matColumnDef","Telefono"],["matColumnDef","Leido"],["matColumnDef","Edit"],["mat-header-cell","","width","5%",4,"matHeaderCellDef"],["matColumnDef","Delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","width","5%"],["mat-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(m.Xb(0,"mat-card",0),m.Xb(1,"mat-card-title",1),m.Ic(2),m.Wb(),m.Sb(3,"br"),m.Xb(4,"table",2),m.Vb(5,3),m.Gc(6,v,2,1,"th",4),m.Gc(7,N,2,1,"td",5),m.Ub(),m.Vb(8,6),m.Gc(9,R,2,1,"th",4),m.Gc(10,X,2,1,"td",5),m.Ub(),m.Vb(11,7),m.Gc(12,x,2,1,"th",4),m.Gc(13,G,2,1,"td",5),m.Ub(),m.Vb(14,8),m.Gc(15,y,2,1,"th",4),m.Gc(16,j,2,1,"td",5),m.Ub(),m.Vb(17,9),m.Gc(18,L,1,0,"th",10),m.Gc(19,M,4,1,"td",5),m.Ub(),m.Vb(20,11),m.Gc(21,_,1,0,"th",10),m.Gc(22,B,4,1,"td",5),m.Ub(),m.Gc(23,U,1,0,"tr",12),m.Gc(24,K,1,0,"tr",13),m.Wb(),m.Xb(25,"mat-paginator",14),m.fc("page",(function(t){return i.pageEvent=i.paginationData(t)})),m.Wb(),m.Wb()),2&t&&(m.Eb(2),m.Kc(" ",i.i18n.PANICO.TITLE_GESTION," "),m.Eb(2),m.pc("dataSource",i.alertasPanico),m.Eb(19),m.pc("matHeaderRowDef",i.displayedColumns),m.Eb(1),m.pc("matRowDefColumns",i.displayedColumns),m.Eb(1),m.pc("pageSize",i.registroPorPagina)("length",i.totalPaginas))},directives:[T.a,T.i,O.j,O.c,O.e,O.b,O.g,O.i,S.a,O.d,O.a,D.a,A.a,W.a,O.f,O.h],styles:["table[_ngcontent-%COMP%]{width:100%}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:80%}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function J(t,i){if(1&t&&(m.Xb(0,"mat-icon"),m.Ic(1,"assignment"),m.Wb(),m.Ic(2)),2&t){const t=m.jc();m.Eb(2),m.Kc("",t.i18n.PANICO.TAB_GESTION," ")}}const V=[{path:"",component:(()=>{class t{constructor(t,i){this.authService=t,this.router=i,this.i18n=b.a}ngOnInit(){this.authService.isAdmin()||this.router.navigate(["/"+l.a.DASHBOARD])}}return t.\u0275fac=function(i){return new(i||t)(m.Rb(d.a),m.Rb(r.b))},t.\u0275cmp=m.Lb({type:t,selectors:[["app-panico-main"]],decls:4,vars:0,consts:[["mat-tab-label",""]],template:function(t,i){1&t&&(m.Xb(0,"mat-tab-group"),m.Xb(1,"mat-tab"),m.Gc(2,J,3,1,"ng-template",0),m.Sb(3,"panico-gestion-panico"),m.Wb(),m.Wb())},directives:[u.b,u.a,u.c,k,W.a],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:40%}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})(),canActivate:[s.a]}];let z=(()=>{class t{}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(i){return new(i||t)},imports:[[r.d.forChild(V)],r.d]}),t})(),H=(()=>{class t{}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(i){return new(i||t)},providers:[{provide:e.a,useClass:c.a,multi:!0},{provide:e.a,useClass:a.a,multi:!0}],imports:[[o.a,z]]}),t})()}}]);