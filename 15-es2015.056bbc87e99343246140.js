(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"+E8C":function(t,c,i){"use strict";i.r(c),i.d(c,"PanicoModule",(function(){return $}));var n=i("tk/3"),e=i("212I"),a=i("x4Iw"),o=i("W/RB"),r=i("tyNb"),s=i("PC/O"),l=i("//6i"),d=i("Exvd"),m=i("fXoL"),p=i("N/25"),u=i("wZkO"),f=i("Q6lY"),h=i("wKov"),b=i("a/SU"),g=i("PSD3"),O=i.n(g),P=i("M+Db"),C=i("0IaG"),E=i("6XFf"),w=i("JqCM"),T=i("Wp6s"),v=i("+0xr"),D=i("M9IT"),A=i("bTqV"),M=i("Qu3c"),S=i("NFeN");function I(t,c){if(1&t&&(m.dc(0,"th",15),m.Oc(1),m.cc()),2&t){const t=m.pc();m.Kb(1),m.Pc(t.i18n.DTO.NOMBRE_EMPRESA)}}function N(t,c){if(1&t&&(m.dc(0,"td",16),m.Oc(1),m.cc()),2&t){const t=c.$implicit;m.Kb(1),m.Qc("",t.nombre," ")}}function x(t,c){if(1&t&&(m.dc(0,"th",15),m.Oc(1),m.cc()),2&t){const t=m.pc();m.Kb(1),m.Pc(t.i18n.DTO.TIPO_EMERGENCIA)}}function R(t,c){if(1&t&&(m.dc(0,"td",16),m.Oc(1),m.cc()),2&t){const t=c.$implicit,i=m.pc();m.Kb(1),m.Qc(" ",i.getTipoEmergencia(t.tipoEmergencia)," ")}}function y(t,c){if(1&t&&(m.dc(0,"th",15),m.Oc(1),m.cc()),2&t){const t=m.pc();m.Kb(1),m.Pc(t.i18n.DTO.TELEFONO)}}function K(t,c){if(1&t&&(m.dc(0,"td",16),m.Oc(1),m.cc()),2&t){const t=c.$implicit;m.Kb(1),m.Qc(" ",t.telefono," ")}}function L(t,c){if(1&t&&(m.dc(0,"th",15),m.Oc(1),m.cc()),2&t){const t=m.pc();m.Kb(1),m.Pc(t.i18n.LEIDO)}}function _(t,c){if(1&t&&(m.dc(0,"td",16),m.Oc(1),m.cc()),2&t){const t=c.$implicit,i=m.pc();m.Kb(1),m.Qc(" ",t.lectura?i.i18n.SI:i.i18n.NO," ")}}function B(t,c){1&t&&m.Yb(0,"th",17)}function Q(t,c){if(1&t){const t=m.ec();m.dc(0,"td",16),m.dc(1,"button",18),m.lc("click",(function(){m.Fc(t);const i=c.$implicit;return m.pc().editar(i)})),m.dc(2,"mat-icon"),m.Oc(3,"edit"),m.cc(),m.cc(),m.cc()}if(2&t){const t=m.pc();m.Kb(1),m.vc("matTooltip",t.i18n.EDITAR)}}function k(t,c){1&t&&m.Yb(0,"th",17)}function W(t,c){if(1&t){const t=m.ec();m.dc(0,"td",16),m.dc(1,"button",18),m.lc("click",(function(){m.Fc(t);const i=c.$implicit;return m.pc().eliminar(i)})),m.dc(2,"mat-icon"),m.Oc(3,"delete"),m.cc(),m.cc(),m.cc()}if(2&t){const t=m.pc();m.Kb(1),m.vc("matTooltip",t.i18n.ELIMINAR)}}function X(t,c){1&t&&m.Yb(0,"tr",19)}function Y(t,c){1&t&&m.Yb(0,"tr",20)}let j=(()=>{class t{constructor(t,c,i){this.dialog=t,this.panicoService=c,this.spinner=i,this.displayedColumns=["Nombre","Tipo","Telefono","Leido","Edit","Delete"],this.paginacion=new f.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.i18n=l.a}ngOnInit(){this.spinner.show(),this.panicoService.getAlertasPanico(this.paginacion).subscribe(t=>{this.spinner.hide(),this.alertasPanico=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}getTipoEmergencia(t){return h.a.find(c=>c.id===t).descripcion||"No Definido"}editar(t){t.lectura?O.a.fire({text:""+l.a.PANICO.SWAL.LECTURA_OK,icon:"warning",confirmButtonText:""+l.a.ACEPTAR}):this.dialog.open(P.a,{data:t,width:"60vw",maxWidth:"60vw",maxHeight:"90vh",autoFocus:!1})}eliminar(t){O.a.fire({title:""+l.a.PANICO.SWAL.QUESTION_DELETE,icon:"question",showCancelButton:!0,confirmButtonText:""+l.a.SI,cancelButtonText:""+l.a.NO}).then(c=>{c.isConfirmed&&(this.spinner.show(),this.panicoService.eliminar(t.id).subscribe(()=>{this.spinner.hide(),O.a.fire({text:""+l.a.PANICO.SWAL.SUCCESS_DELETE,icon:"success",confirmButtonText:""+l.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),O.a.fire({html:""+Object(b.a)(t,l.a.PANICO.SWAL.ERROR_DELETE),icon:"error",confirmButtonText:""+l.a.ACEPTAR})}))})}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.panicoService.getAlertasPanico(this.paginacion).subscribe(t=>{this.spinner.hide(),this.alertasPanico=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}}return t.\u0275fac=function(c){return new(c||t)(m.Xb(C.b),m.Xb(E.a),m.Xb(w.c))},t.\u0275cmp=m.Rb({type:t,selectors:[["panico-gestion-panico"]],decls:26,vars:6,consts:[[1,"contenedor"],[1,"div-center"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tipo"],["matColumnDef","Telefono"],["matColumnDef","Leido"],["matColumnDef","Edit"],["mat-header-cell","","width","5%",4,"matHeaderCellDef"],["matColumnDef","Delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","width","5%"],["mat-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row",""]],template:function(t,c){1&t&&(m.dc(0,"mat-card",0),m.dc(1,"mat-card-title",1),m.Oc(2),m.cc(),m.Yb(3,"br"),m.dc(4,"table",2),m.bc(5,3),m.Mc(6,I,2,1,"th",4),m.Mc(7,N,2,1,"td",5),m.ac(),m.bc(8,6),m.Mc(9,x,2,1,"th",4),m.Mc(10,R,2,1,"td",5),m.ac(),m.bc(11,7),m.Mc(12,y,2,1,"th",4),m.Mc(13,K,2,1,"td",5),m.ac(),m.bc(14,8),m.Mc(15,L,2,1,"th",4),m.Mc(16,_,2,1,"td",5),m.ac(),m.bc(17,9),m.Mc(18,B,1,0,"th",10),m.Mc(19,Q,4,1,"td",5),m.ac(),m.bc(20,11),m.Mc(21,k,1,0,"th",10),m.Mc(22,W,4,1,"td",5),m.ac(),m.Mc(23,X,1,0,"tr",12),m.Mc(24,Y,1,0,"tr",13),m.cc(),m.dc(25,"mat-paginator",14),m.lc("page",(function(t){return c.pageEvent=c.paginationData(t)})),m.cc(),m.cc()),2&t&&(m.Kb(2),m.Qc(" ",c.i18n.PANICO.TITLE_GESTION," "),m.Kb(2),m.vc("dataSource",c.alertasPanico),m.Kb(19),m.vc("matHeaderRowDef",c.displayedColumns),m.Kb(1),m.vc("matRowDefColumns",c.displayedColumns),m.Kb(1),m.vc("pageSize",c.registroPorPagina)("length",c.totalPaginas))},directives:[T.a,T.i,v.j,v.c,v.e,v.b,v.g,v.i,D.a,v.d,v.a,A.a,M.a,S.a,v.f,v.h],styles:["table[_ngcontent-%COMP%]{width:100%}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:80%}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function F(t,c){if(1&t&&(m.dc(0,"mat-icon"),m.Oc(1,"assignment"),m.cc(),m.Oc(2)),2&t){const t=m.pc();m.Kb(2),m.Qc("",t.i18n.PANICO.TAB_GESTION," ")}}const H=[{path:"",component:(()=>{class t{constructor(t,c){this.authService=t,this.router=c,this.i18n=l.a}ngOnInit(){this.authService.isAdmin()||this.router.navigate(["/"+d.a.DASHBOARD])}}return t.\u0275fac=function(c){return new(c||t)(m.Xb(p.a),m.Xb(r.b))},t.\u0275cmp=m.Rb({type:t,selectors:[["app-panico-main"]],decls:4,vars:0,consts:[["mat-tab-label",""]],template:function(t,c){1&t&&(m.dc(0,"mat-tab-group"),m.dc(1,"mat-tab"),m.Mc(2,F,3,1,"ng-template",0),m.Yb(3,"panico-gestion-panico"),m.cc(),m.cc())},directives:[u.b,u.a,u.c,j,S.a],styles:[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:40%}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})(),canActivate:[s.a]}];let U=(()=>{class t{}return t.\u0275mod=m.Vb({type:t}),t.\u0275inj=m.Ub({factory:function(c){return new(c||t)},imports:[[r.d.forChild(H)],r.d]}),t})(),$=(()=>{class t{}return t.\u0275mod=m.Vb({type:t}),t.\u0275inj=m.Ub({factory:function(c){return new(c||t)},providers:[{provide:n.a,useClass:a.a,multi:!0},{provide:n.a,useClass:e.a,multi:!0}],imports:[[o.a,U]]}),t})()}}]);