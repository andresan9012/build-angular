(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"Ae/7":function(t,e,i){"use strict";i.r(e),i.d(e,"MatrizModule",(function(){return oe}));var n=i("tyNb"),o=i("PC/O"),a=i("//6i"),c=i("fXoL"),r=i("N/25"),s=i("wZkO"),l=i("ofXK"),m=i("PSD3"),d=i.n(m),b=i("a/SU"),p=i("10MT"),u=i("j+aK"),h=i("Wp6s"),f=i("LSEc");function g(t,e){if(1&t&&(c.Xb(0,"mat-card",1),c.Xb(1,"mat-card-title",2),c.Ic(2),c.Wb(),c.Sb(3,"matriz-especialidad-card",3),c.Wb()),2&t){const t=e.$implicit,i=c.jc();c.Eb(2),c.Kc(" ",t," "),c.Eb(1),c.pc("data",i.matrices[t])("select",!1)}}let E=(()=>{class t{constructor(t,e){this.especialidadService=t,this.matricesEmitService=e,this.i18n=a.a}ngOnInit(){this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.matrices=t,this.keyMatrices=Object.keys(t)},t=>{d.a.fire({html:""+Object(b.a)(t,a.a.MATRIZ.SWAL.ERROR_OBTENER_ESPECIALIDAD),icon:"error",confirmButtonText:""+a.a.ACEPTAR})})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(p.a),c.Rb(u.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["matriz-matrices"]],decls:1,vars:1,consts:[["class","contenedor",4,"ngFor","ngForOf"],[1,"contenedor"],[1,"div-center"],[3,"data","select"]],template:function(t,e){1&t&&c.Gc(0,g,4,3,"mat-card",0),2&t&&c.pc("ngForOf",e.keyMatrices)},directives:[l.l,h.a,h.i,f.a],styles:[".div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:900px}"]}),t})();var I=i("NFeN"),O=i("M9IT"),C=i("+0xr"),R=i("0IaG"),T=i("R0Ic");class M{}var x=i("3Pt+"),A=i("4n4j"),S=i("JqCM"),W=i("Uw2o"),v=i("bTqV"),w=i("kmnG"),N=i("d3UM"),_=i("FKr1"),X=i("qFsG"),D=i("f0Cb");function P(t,e){if(1&t&&(c.Xb(0,"mat-option",18),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.pc("value",t.id),c.Eb(1),c.Kc(" ",t.nombreComponente," ")}}let G=(()=>{class t{constructor(t,e,i,n,o,c){this.dialogRef=t,this.data=e,this._formBuilder=i,this.spinner=n,this.matrizService=o,this.dialog=c,this.title=""+a.a.MATRIZ.TITLE_REGISTRO_NORMA,this.componentes=[],this.i18n=a.a}ngOnInit(){this.matrizActual=this.data.matriz,this.componentes=A.a.filter(t=>t.id>0),this.formGroup=this._formBuilder.group({recurso:["",x.q.required],concepto:["",x.q.required],tipoNorma:["",x.q.required],numeroNorma:["",x.q.required],"a\xf1o":["",x.q.required],entidadEmisora:["",x.q.required],descripcionDeNorma:["",x.q.required],estado:["",x.q.required]}),this.data.edit?(this.title=""+a.a.MATRIZ.TITLE_EDITAR_NORMA,this.norma=this.data.norma,this.getNormaEditar()):(this.norma=new M,this.norma.id=0)}getNormaEditar(){this.formGroup.controls.recurso.setValue(this.norma.recurso),this.formGroup.controls.concepto.setValue(this.norma.concepto),this.formGroup.controls.tipoNorma.setValue(this.norma.tiponorma),this.formGroup.controls.numeroNorma.setValue(this.norma.numeroNorma),this.formGroup.controls.a\u00f1o.setValue(this.norma.anio),this.formGroup.controls.entidadEmisora.setValue(this.norma.entidademisora),this.formGroup.controls.descripcionDeNorma.setValue(this.norma.descripcion),this.formGroup.controls.estado.setValue(this.norma.estado)}setNorma(){this.norma.recurso=this.formGroup.controls.recurso.value,this.norma.concepto=this.formGroup.controls.concepto.value,this.norma.tiponorma=this.formGroup.controls.tipoNorma.value,this.norma.numeroNorma=this.formGroup.controls.numeroNorma.value,this.norma.anio=this.formGroup.controls.a\u00f1o.value,this.norma.entidademisora=this.formGroup.controls.entidadEmisora.value,this.norma.descripcion=this.formGroup.controls.descripcionDeNorma.value,this.norma.estado=this.formGroup.controls.estado.value,this.norma.matrizId=this.matrizActual.id}guardar(){this.data.edit?this.guardarExistente():this.guardarNuevo()}guardarNuevo(){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_REGISTRO_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setNorma(),this.matrizService.crearNorma(this.norma).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_REGISTRO_NORMA,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({html:""+Object(b.a)(t,a.a.MATRIZ.SWAL.ERROR_REGISTRO_NORMA),icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}guardarExistente(){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_EDITAR_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setNorma(),this.matrizService.editarNorma(this.norma).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_EDITAR_NORMA,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.ERROR_EDITAR_NORMA,icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}onClickCancel(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(R.d),c.Rb(R.a),c.Rb(x.c),c.Rb(S.c),c.Rb(W.a),c.Rb(R.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-editar-norma"]],decls:55,vars:21,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],[3,"formGroup"],[1,"mat-form-field2"],["formControlName","recurso","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","concepto","required","",3,"placeholder"],["matInput","","formControlName","tipoNorma","required","",3,"placeholder"],["matInput","","formControlName","numeroNorma","required","",3,"placeholder"],["matInput","","formControlName","a\xf1o","required","",3,"placeholder"],["matInput","","formControlName","entidadEmisora","required","",3,"placeholder"],["matInput","","formControlName","estado","required","",3,"placeholder"],["matInput","","formControlName","descripcionDeNorma","required","",3,"placeholder"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent","color","accent",3,"click"],["mat-button","","color","accent",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(c.Xb(0,"button",0),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(1,"mat-icon",1),c.Ic(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h2",2),c.Ic(4),c.Wb(),c.Xb(5,"div",3),c.Xb(6,"form",4),c.Sb(7,"br"),c.Xb(8,"mat-form-field",5),c.Xb(9,"mat-label"),c.Ic(10),c.Wb(),c.Xb(11,"mat-select",6),c.Xb(12,"mat-option"),c.Ic(13,"--"),c.Wb(),c.Gc(14,P,2,2,"mat-option",7),c.Wb(),c.Wb(),c.Xb(15,"mat-form-field"),c.Xb(16,"mat-label"),c.Ic(17),c.Wb(),c.Sb(18,"input",8),c.Wb(),c.Xb(19,"mat-form-field"),c.Xb(20,"mat-label"),c.Ic(21),c.Wb(),c.Sb(22,"input",9),c.Wb(),c.Xb(23,"mat-form-field"),c.Xb(24,"mat-label"),c.Ic(25),c.Wb(),c.Sb(26,"input",10),c.Wb(),c.Xb(27,"mat-form-field"),c.Xb(28,"mat-label"),c.Ic(29),c.Wb(),c.Sb(30,"input",11),c.Wb(),c.Xb(31,"mat-form-field"),c.Xb(32,"mat-label"),c.Ic(33),c.Wb(),c.Sb(34,"input",12),c.Wb(),c.Xb(35,"mat-form-field"),c.Xb(36,"mat-label"),c.Ic(37),c.Wb(),c.Sb(38,"input",13),c.Wb(),c.Xb(39,"mat-form-field",5),c.Xb(40,"mat-label"),c.Ic(41),c.Wb(),c.Sb(42,"textarea",14),c.Wb(),c.Wb(),c.Wb(),c.Sb(43,"br"),c.Sb(44,"mat-divider"),c.Sb(45,"br"),c.Xb(46,"div",15),c.Xb(47,"button",16),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(48,"mat-icon"),c.Ic(49,"close"),c.Wb(),c.Ic(50),c.Wb(),c.Xb(51,"button",17),c.fc("click",(function(){return e.guardar()})),c.Xb(52,"mat-icon"),c.Ic(53,"save"),c.Wb(),c.Ic(54),c.Wb(),c.Wb()),2&t&&(c.Eb(4),c.Jc(e.title),c.Eb(2),c.pc("formGroup",e.formGroup),c.Eb(4),c.Jc(e.i18n.DTO.NORMA_RECURSO),c.Eb(4),c.pc("ngForOf",e.componentes),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_CONCEPTO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_CONCEPTO),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_TIPO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_TIPO),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_NUMERO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_NUMERO),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_ANIO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_ANIO),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_ENTIDAD_EMISORA),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_ENTIDAD_EMISORA),c.Eb(3),c.Jc(e.i18n.DTO.ESTADO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.ESTADO),c.Eb(3),c.Jc(e.i18n.DTO.NORMA_DESCRIPCION),c.Eb(1),c.pc("placeholder",e.i18n.DTO.NORMA_DESCRIPCION),c.Eb(8),c.Kc("",e.i18n.CANCEL," "),c.Eb(1),c.pc("disabled",e.formGroup.invalid),c.Eb(3),c.Kc("",e.i18n.GUARDAR," "))},directives:[v.a,I.a,x.r,x.k,x.e,w.c,w.f,N.a,x.j,x.d,x.p,_.n,l.l,X.b,x.b,D.a],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-form-field2[_ngcontent-%COMP%]{width:100%}"]}),t})();var z=i("Q6lY"),y=i("Qu3c");function j(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",21),c.Xb(1,"button",20),c.fc("click",(function(){return c.zc(t),c.jc().nuevo()})),c.Xb(2,"mat-icon"),c.Ic(3,"add_circle"),c.Wb(),c.Ic(4),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(4),c.Kc("",t.i18n.MATRIZ.CREAR_NORMA," ")}}function k(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NORMA_RECURSO)}}function L(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit,i=c.jc();c.Eb(1),c.Kc(" ",i.getComponenteById(t.recurso)," ")}}function B(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NORMA_CONCEPTO)}}function q(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc(" ",t.concepto," ")}}function U(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NORMA_TIPO)}}function V(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc(" ",t.tiponorma," ")}}function Z(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NORMA_NUMERO)}}function J(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",t.numeroNorma," ")}}function $(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NORMA_ANIO)}}function K(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",t.anio," ")}}function H(t,e){if(1&t&&(c.Xb(0,"th",22),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.ESTADO)}}function F(t,e){if(1&t&&(c.Xb(0,"td",23),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",t.estado," ")}}function Y(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",26),c.Xb(1,"p"),c.Xb(2,"button",28),c.fc("click",(function(){c.zc(t);const e=c.jc().$implicit;return c.jc().editar(e)})),c.Xb(3,"mat-icon"),c.Ic(4,"edit"),c.Wb(),c.Wb(),c.Xb(5,"button",28),c.fc("click",(function(){c.zc(t);const e=c.jc().$implicit;return c.jc().eliminar(e)})),c.Xb(6,"mat-icon"),c.Ic(7,"delete"),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc(2);c.Eb(2),c.pc("matTooltip",t.i18n.EDITAR),c.Eb(3),c.pc("matTooltip",t.i18n.ELIMINAR)}}function Q(t,e){if(1&t&&(c.Xb(0,"td",23),c.Xb(1,"div",24),c.Gc(2,Y,8,2,"div",25),c.Xb(3,"div",26),c.Xb(4,"span",27),c.Ic(5),c.Wb(),c.Xb(6,"p"),c.Ic(7),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit,i=c.jc();c.Fb("colspan",i.displayedColumns.length),c.Eb(1),c.pc("@detailExpand",t==i.expandedElement?"expanded":"collapsed"),c.Eb(1),c.pc("ngIf",!i.readonly),c.Eb(3),c.Jc(i.i18n.DTO.NORMA_DESCRIPCION),c.Eb(2),c.Jc(t.descripcion)}}function tt(t,e){1&t&&c.Sb(0,"tr",29)}function et(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr",30),c.fc("click",(function(){c.zc(t);const i=e.$implicit,n=c.jc();return n.expandedElement=n.expandedElement===i?null:i})),c.Wb()}if(2&t){const t=e.$implicit,i=c.jc();c.Ib("example-expanded-row",i.expandedElement===t)}}function it(t,e){1&t&&c.Sb(0,"tr",31)}const nt=function(){return["expandedDetail"]};let ot=(()=>{class t{constructor(t,e,i,n,o){this.matrizService=t,this.spinner=e,this.dialog=i,this.dialogRef=n,this.data=o,this.dataSource=null,this.displayedColumns=["Recurso","Concepto","TipoNorma","NumeroNorma","A\xf1o","Estado"],this.i18n=a.a,this.paginacion=new z.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.paginacion.valorABuscar=String(this.data.data.id)}ngOnInit(){this.readonly=this.data.readonly,this.matrizService.getNormasByMatriz(this.paginacion).subscribe(t=>{this.dataSource=new C.k(t.items),this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.onClickCancel()})}onClickCancel(){this.dialogRef.close()}editar(t){this.dialog.open(G,{data:{edit:!0,norma:t,matriz:this.data.data},width:"60vw",maxWidth:"80vw",maxHeight:"90vh"})}nuevo(){this.dialog.open(G,{data:{edit:!1,matriz:this.data.data},width:"60vw",maxWidth:"80vw",maxHeight:"90vh"})}eliminar(t){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_ELIMINAR_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(e=>{e.isConfirmed&&(this.spinner.show(),this.matrizService.eliminarNorma(t).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_ELIMINAR_NORMA,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({html:""+Object(b.a)(t,a.a.MATRIZ.SWAL.ERROR_ELIMINAR_NORMA),icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}getComponenteById(t){const e=A.a.find(e=>e.id===t);return e?e.nombreComponente:""}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.matrizService.getNormasByMatriz(this.paginacion).subscribe(t=>{this.spinner.hide(),this.dataSource=new C.k(t.items),this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(W.a),c.Rb(S.c),c.Rb(R.b),c.Rb(R.d),c.Rb(R.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-listar-normas"]],decls:42,vars:10,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],["mat-dialog-actions","","class","div-right",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Recurso"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Concepto"],["matColumnDef","TipoNorma"],["matColumnDef","NumeroNorma"],["matColumnDef","A\xf1o"],["matColumnDef","Estado"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-dialog-actions","",2,"text-align","right"],["mat-button","","color","accent",3,"click"],["mat-dialog-actions","",1,"div-right"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],["class","example-element-description",4,"ngIf"],[1,"example-element-description"],[1,"example-element-description-attribution"],["mat-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,e){1&t&&(c.Xb(0,"button",0),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(1,"mat-icon",1),c.Ic(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h1",2),c.Ic(4),c.Wb(),c.Sb(5,"mat-divider"),c.Xb(6,"div",3),c.Gc(7,j,5,1,"div",4),c.Sb(8,"br"),c.Xb(9,"table",5),c.Vb(10,6),c.Gc(11,k,2,1,"th",7),c.Gc(12,L,2,1,"td",8),c.Ub(),c.Vb(13,9),c.Gc(14,B,2,1,"th",7),c.Gc(15,q,2,1,"td",8),c.Ub(),c.Vb(16,10),c.Gc(17,U,2,1,"th",7),c.Gc(18,V,2,1,"td",8),c.Ub(),c.Vb(19,11),c.Gc(20,Z,2,1,"th",7),c.Gc(21,J,2,1,"td",8),c.Ub(),c.Vb(22,12),c.Gc(23,$,2,1,"th",7),c.Gc(24,K,2,1,"td",8),c.Ub(),c.Vb(25,13),c.Gc(26,H,2,1,"th",7),c.Gc(27,F,2,1,"td",8),c.Ub(),c.Vb(28,14),c.Gc(29,Q,8,5,"td",8),c.Ub(),c.Gc(30,tt,1,0,"tr",15),c.Gc(31,et,1,2,"tr",16),c.Gc(32,it,1,0,"tr",17),c.Wb(),c.Xb(33,"mat-paginator",18),c.fc("page",(function(t){return e.pageEvent=e.paginationData(t)})),c.Wb(),c.Wb(),c.Sb(34,"br"),c.Sb(35,"mat-divider"),c.Sb(36,"br"),c.Xb(37,"div",19),c.Xb(38,"button",20),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(39,"mat-icon"),c.Ic(40,"close"),c.Wb(),c.Ic(41),c.Wb(),c.Wb()),2&t&&(c.Eb(4),c.Kc("Normas Matriz ",e.data.data.nombreMatriz,""),c.Eb(3),c.pc("ngIf",!e.readonly),c.Eb(2),c.pc("dataSource",e.dataSource),c.Eb(21),c.pc("matHeaderRowDef",e.displayedColumns),c.Eb(1),c.pc("matRowDefColumns",e.displayedColumns),c.Eb(1),c.pc("matRowDefColumns",c.rc(9,nt)),c.Eb(1),c.pc("pageSize",e.registroPorPagina)("length",e.totalPaginas),c.Eb(8),c.Kc(" ",e.i18n.CERRAR," "))},directives:[v.a,I.a,D.a,l.m,C.j,C.c,C.e,C.b,C.g,C.i,O.a,C.d,C.a,y.a,C.f,C.h],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}*[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(T.n)("detailExpand",[Object(T.k)("collapsed",Object(T.l)({height:"0px",minHeight:"0"})),Object(T.k)("expanded",Object(T.l)({height:"*"})),Object(T.m)("expanded <=> collapsed",Object(T.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function at(t,e){1&t&&(c.Xb(0,"th",13),c.Ic(1," Codigo"),c.Wb())}function ct(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Jc(t.codigo)}}function rt(t,e){1&t&&(c.Xb(0,"th",13),c.Ic(1," Version"),c.Wb())}function st(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Jc(t.version)}}function lt(t,e){if(1&t&&(c.Xb(0,"th",13),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NOMBRE_MATRIZ)}}function mt(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc(" ",t.nombreMatriz," ")}}function dt(t,e){if(1&t&&(c.Xb(0,"th",13),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.FECHA_PUBLICACION)}}function bt(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.kc(2,"date"),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",c.mc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function pt(t,e){if(1&t&&(c.Xb(0,"th",13),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.ESTADO)}}function ut(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",t.estado," ")}}function ht(t,e){if(1&t&&(c.Xb(0,"th",13),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.SECTOR_ECONOMICO)}}function ft(t,e){if(1&t&&(c.Xb(0,"td",14),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Jc(t.especialidad.nombreEspecialidad)}}function gt(t,e){1&t&&c.Sb(0,"th",13)}function Et(t,e){if(1&t){const t=c.Yb();c.Xb(0,"td",14),c.Xb(1,"button",15),c.fc("click",(function(){c.zc(t);const i=e.$implicit;return c.jc().listarNormas(i)})),c.Xb(2,"mat-icon"),c.Ic(3,"subject"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.pc("matTooltip",t.i18n.MATRIZ.BTN_LISTAR_NORMA)}}function It(t,e){1&t&&c.Sb(0,"tr",16)}function Ot(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr",17),c.fc("click",(function(){c.zc(t);const i=e.$implicit,n=c.jc();return n.expandedElement=n.expandedElement===i?null:i})),c.Wb()}if(2&t){const t=e.$implicit,i=c.jc();c.Ib("example-expanded-row",i.expandedElement===t)}}const Ct=function(){return[5,10,15]};let Rt=(()=>{class t{constructor(t,e){this.matrizService=t,this.dialog=e,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Estado","SectorEconomico","Listar"],this.especialidadesListaLineal=[],this.i18n=a.a}ngOnInit(){this.matrizService.getMatrizCompradas().subscribe(t=>{const e=[];t.forEach(t=>{e.push(t.matriz)}),this.dataSource=new C.k(e),this.dataSource.paginator=this.paginator})}listarNormas(t){this.dialog.open(ot,{data:{data:t,readonly:!0},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(W.a),c.Rb(R.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["matriz-mis-matrices"]],viewQuery:function(t,e){var i;1&t&&c.Ec(O.a,!0),2&t&&c.vc(i=c.gc())&&(e.paginator=i.first)},decls:25,vars:5,consts:[["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Estado"],["matColumnDef","SectorEconomico"],["matColumnDef","Listar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"table",0),c.Vb(1,1),c.Gc(2,at,2,0,"th",2),c.Gc(3,ct,2,1,"td",3),c.Ub(),c.Vb(4,4),c.Gc(5,rt,2,0,"th",2),c.Gc(6,st,2,1,"td",3),c.Ub(),c.Vb(7,5),c.Gc(8,lt,2,1,"th",2),c.Gc(9,mt,2,1,"td",3),c.Ub(),c.Vb(10,6),c.Gc(11,dt,2,1,"th",2),c.Gc(12,bt,3,4,"td",3),c.Ub(),c.Vb(13,7),c.Gc(14,pt,2,1,"th",2),c.Gc(15,ut,2,1,"td",3),c.Ub(),c.Vb(16,8),c.Gc(17,ht,2,1,"th",2),c.Gc(18,ft,2,1,"td",3),c.Ub(),c.Vb(19,9),c.Gc(20,gt,1,0,"th",2),c.Gc(21,Et,4,1,"td",3),c.Ub(),c.Gc(22,It,1,0,"tr",10),c.Gc(23,Ot,1,2,"tr",11),c.Wb(),c.Sb(24,"mat-paginator",12)),2&t&&(c.pc("dataSource",e.dataSource),c.Eb(22),c.pc("matHeaderRowDef",e.displayedColumns),c.Eb(1),c.pc("matRowDefColumns",e.displayedColumns),c.Eb(1),c.pc("pageSizeOptions",c.rc(4,Ct)))},directives:[C.j,C.c,C.e,C.b,C.g,C.i,O.a,C.d,C.a,v.a,y.a,I.a,C.f,C.h],pipes:[l.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"]}),t})();class Tt{}var Mt=i("sE+t");let xt=(()=>{class t{constructor(t,e,i,n,o,c,r){this.dialogRef=t,this.data=e,this._formBuilder=i,this.spinner=n,this.dialog=o,this.matricesEmitService=c,this.matrizService=r,this.title=""+a.a.MATRIZ.TITLE_REGISTRO,this.i18n=a.a}ngOnInit(){this.formGroup=this._formBuilder.group({numeroInternoMatriz:["",x.q.required],estado:["",x.q.required],nombreMatriz:["",x.q.required],version:["",x.q.required],codigo:["",x.q.required],especialidadId:[0,x.q.required],especialidadNombre:["",x.q.required]});var t=new l.f("en").transform(new Date,"yyyy-MM-dd");this.data.edit?(this.title=""+a.a.MATRIZ.TITLE_EDITAR,this.matriz=this.data.matriz,this.matriz.fechaActualizacion=t,this.getMatrizEditar()):(this.matriz=new Tt,this.matriz.id=0,this.matriz.fechaActualizacion=t,this.matriz.fechaPublicacion=t),this.sectorEconomicoSubscribe=this.matricesEmitService.seleccionSector$.subscribe(t=>{null!=t&&(this.formGroup.controls.especialidadId.setValue(t.id),this.formGroup.controls.especialidadNombre.setValue(t.nombreEspecialidad))})}guardar(){this.data.edit?this.guardarExistente():this.guardarNuevo()}guardarExistente(){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_EDITAR,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.editar(this.matriz).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_EDITAR,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.ERROR_EDITAR,icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}guardarNuevo(){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_REGISTRO,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.crear(this.matriz).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_REGISTRO,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.ERROR_REGISTRO,icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}seleccionarSectorEconomico(){this.dialog.open(Mt.a,{data:{},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}setMatriz(){this.matriz.numeroInternoMatriz=this.formGroup.controls.numeroInternoMatriz.value,this.matriz.nombreMatriz=this.formGroup.controls.nombreMatriz.value,this.matriz.version=this.formGroup.controls.version.value,this.matriz.codigo=this.formGroup.controls.codigo.value,this.matriz.estado=this.formGroup.controls.estado.value,this.matriz.especialidadId=this.formGroup.controls.especialidadId.value}getMatrizEditar(){this.formGroup.controls.numeroInternoMatriz.setValue(this.matriz.numeroInternoMatriz),this.formGroup.controls.nombreMatriz.setValue(this.matriz.nombreMatriz),this.formGroup.controls.version.setValue(this.matriz.version),this.formGroup.controls.codigo.setValue(this.matriz.codigo),this.formGroup.controls.especialidadId.setValue(this.matriz.especialidadId),this.formGroup.controls.especialidadNombre.setValue(this.data.nameEspecialidad),this.formGroup.controls.estado.setValue(this.matriz.estado)}onClickCancel(){this.sectorEconomicoSubscribe.unsubscribe(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(R.d),c.Rb(R.a),c.Rb(x.c),c.Rb(S.c),c.Rb(R.b),c.Rb(u.a),c.Rb(W.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-editar-matriz"]],decls:46,vars:17,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","nombreMatriz","required","",3,"placeholder"],["matInput","","formControlName","codigo","required","",3,"placeholder"],["matInput","","formControlName","version","required","",3,"placeholder"],["matInput","","formControlName","especialidadNombre","readonly","",3,"placeholder"],["matSuffix","",3,"click"],["matInput","","formControlName","numeroInternoMatriz","required","",3,"placeholder"],["matInput","","formControlName","estado","required","",3,"placeholder"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent","color","accent",3,"click"],["mat-button","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(c.Xb(0,"button",0),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(1,"mat-icon",1),c.Ic(2,"close"),c.Wb(),c.Wb(),c.Xb(3,"h2",2),c.Ic(4),c.Wb(),c.Xb(5,"div",3),c.Xb(6,"form",4),c.Sb(7,"br"),c.Xb(8,"mat-form-field"),c.Xb(9,"mat-label"),c.Ic(10),c.Wb(),c.Sb(11,"input",5),c.Wb(),c.Xb(12,"mat-form-field"),c.Xb(13,"mat-label"),c.Ic(14),c.Wb(),c.Sb(15,"input",6),c.Wb(),c.Xb(16,"mat-form-field"),c.Xb(17,"mat-label"),c.Ic(18),c.Wb(),c.Sb(19,"input",7),c.Wb(),c.Xb(20,"mat-form-field"),c.Xb(21,"mat-label"),c.Ic(22),c.Wb(),c.Sb(23,"input",8),c.Xb(24,"mat-icon",9),c.fc("click",(function(){return e.seleccionarSectorEconomico()})),c.Ic(25,"search"),c.Wb(),c.Wb(),c.Xb(26,"mat-form-field"),c.Xb(27,"mat-label"),c.Ic(28),c.Wb(),c.Sb(29,"input",10),c.Wb(),c.Xb(30,"mat-form-field"),c.Xb(31,"mat-label"),c.Ic(32),c.Wb(),c.Sb(33,"input",11),c.Wb(),c.Wb(),c.Wb(),c.Sb(34,"br"),c.Sb(35,"mat-divider"),c.Sb(36,"br"),c.Xb(37,"div",12),c.Xb(38,"button",13),c.fc("click",(function(){return e.onClickCancel()})),c.Xb(39,"mat-icon"),c.Ic(40,"close"),c.Wb(),c.Ic(41),c.Wb(),c.Xb(42,"button",14),c.fc("click",(function(){return e.guardar()})),c.Xb(43,"mat-icon"),c.Ic(44,"save"),c.Wb(),c.Ic(45),c.Wb(),c.Wb()),2&t&&(c.Eb(4),c.Jc(e.title),c.Eb(2),c.pc("formGroup",e.formGroup),c.Eb(4),c.Jc(e.i18n.DTO.MATRIZ_NOMBRE),c.Eb(1),c.pc("placeholder",e.i18n.DTO.MATRIZ_NOMBRE),c.Eb(3),c.Jc(e.i18n.DTO.MATRIZ_CODIGO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.MATRIZ_CODIGO),c.Eb(3),c.Jc(e.i18n.DTO.VERSION),c.Eb(1),c.pc("placeholder",e.i18n.DTO.VERSION),c.Eb(3),c.Jc(e.i18n.DTO.SECTOR_ECONOMICO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.SECTOR_ECONOMICO),c.Eb(5),c.Jc(e.i18n.DTO.MATRIZ_NUMERO_INTERNO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.MATRIZ_NUMERO_INTERNO),c.Eb(3),c.Jc(e.i18n.DTO.ESTADO),c.Eb(1),c.pc("placeholder",e.i18n.DTO.ESTADO),c.Eb(8),c.Kc("",e.i18n.CANCEL," "),c.Eb(1),c.pc("disabled",e.formGroup.invalid),c.Eb(3),c.Kc("",e.i18n.GUARDAR," "))},directives:[v.a,I.a,x.r,x.k,x.e,w.c,w.f,X.b,x.b,x.j,x.d,x.p,w.g,D.a],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-form-field2[_ngcontent-%COMP%]{width:100%}"]}),t})();function At(t,e){1&t&&(c.Xb(0,"th",19),c.Ic(1," Codigo"),c.Wb())}function St(t,e){if(1&t&&(c.Xb(0,"td",20),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Jc(t.codigo)}}function Wt(t,e){1&t&&(c.Xb(0,"th",19),c.Ic(1," Version"),c.Wb())}function vt(t,e){if(1&t&&(c.Xb(0,"td",20),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Jc(t.version)}}function wt(t,e){if(1&t&&(c.Xb(0,"th",19),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.NOMBRE_MATRIZ)}}function Nt(t,e){if(1&t&&(c.Xb(0,"td",20),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc(" ",t.nombreMatriz," ")}}function _t(t,e){if(1&t&&(c.Xb(0,"th",19),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.FECHA_PUBLICACION)}}function Xt(t,e){if(1&t&&(c.Xb(0,"td",20),c.Ic(1),c.kc(2,"date"),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",c.mc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function Dt(t,e){if(1&t&&(c.Xb(0,"th",19),c.Ic(1),c.Wb()),2&t){const t=c.jc();c.Eb(1),c.Jc(t.i18n.DTO.ESTADO)}}function Pt(t,e){if(1&t&&(c.Xb(0,"td",20),c.Ic(1),c.Wb()),2&t){const t=e.$implicit;c.Eb(1),c.Kc("",t.estado," ")}}function Gt(t,e){1&t&&c.Sb(0,"th",19)}function zt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"td",20),c.Xb(1,"button",21),c.fc("click",(function(){c.zc(t);const i=e.$implicit;return c.jc().editar(i)})),c.Xb(2,"mat-icon"),c.Ic(3,"edit"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.pc("matTooltip",t.i18n.EDITAR)}}function yt(t,e){1&t&&c.Sb(0,"th",19)}function jt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"td",20),c.Xb(1,"button",21),c.fc("click",(function(){c.zc(t);const i=e.$implicit;return c.jc().eliminar(i)})),c.Xb(2,"mat-icon"),c.Ic(3,"delete"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.jc();c.Eb(1),c.pc("matTooltip",t.i18n.ELIMINAR)}}function kt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"td",20),c.Xb(1,"div",22),c.Xb(2,"div",23),c.Xb(3,"p"),c.Xb(4,"button",21),c.fc("click",(function(){c.zc(t);const i=e.$implicit;return c.jc().listarNormas(i)})),c.Xb(5,"mat-icon"),c.Ic(6,"subject"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"div",23),c.Xb(8,"span",24),c.Ic(9),c.Wb(),c.Xb(10,"p"),c.Ic(11),c.kc(12,"date"),c.Wb(),c.Wb(),c.Xb(13,"div",23),c.Xb(14,"span",24),c.Ic(15),c.Wb(),c.Xb(16,"p"),c.Ic(17),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,i=c.jc();c.Fb("colspan",i.displayedColumns.length),c.Eb(1),c.pc("@detailExpand",t==i.expandedElement?"expanded":"collapsed"),c.Eb(3),c.pc("matTooltip",i.i18n.MATRIZ.BTN_LISTAR_NORMA),c.Eb(5),c.Jc(i.i18n.DTO.FECHA_ACTUALIZACION),c.Eb(2),c.Kc("",c.mc(12,7,t.fechaActualizacion,"dd/MM/yyyy")," "),c.Eb(4),c.Jc(i.i18n.DTO.SECTOR_ECONOMICO),c.Eb(2),c.Jc(i.findNameEspecialidadById(t.especialidadId))}}function Lt(t,e){1&t&&c.Sb(0,"tr",25)}function Bt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr",26),c.fc("click",(function(){c.zc(t);const i=e.$implicit,n=c.jc();return n.expandedElement=n.expandedElement===i?null:i})),c.Wb()}if(2&t){const t=e.$implicit,i=c.jc();c.Ib("example-expanded-row",i.expandedElement===t)}}function qt(t,e){1&t&&c.Sb(0,"tr",27)}const Ut=function(){return["expandedDetail"]};let Vt=(()=>{class t{constructor(t,e,i,n){this.matrizService=t,this.dialog=e,this.especialidadService=i,this.spinner=n,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Estado","Editar","Eliminar"],this.especialidadesListaLineal=[],this.paginacion=new z.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.i18n=a.a}ngOnInit(){this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.registroPorPagina=t.registroPorPagina,this.totalPaginas=10*t.totalPaginas}),this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.construirArrayLineal(t)})}nuevo(){this.dialog.open(xt,{data:{edit:!1,matriz:null},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}editar(t){const e={edit:!0,matriz:t,nameEspecialidad:this.findNameEspecialidadById(t.especialidadId)};this.dialog.open(xt,{data:e,width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}eliminar(t){d.a.fire({title:""+a.a.MATRIZ.SWAL.QUESTION_ELIMINAR,icon:"question",showCancelButton:!0,confirmButtonText:""+a.a.SI,cancelButtonText:""+a.a.NO}).then(e=>{e.isConfirmed&&(this.spinner.show(),this.matrizService.eliminar(t).subscribe(t=>{this.spinner.hide(),d.a.fire({text:""+a.a.MATRIZ.SWAL.SUCCESS_ELIMINAR,icon:"success",confirmButtonText:""+a.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),d.a.fire({html:""+Object(b.a)(t,a.a.MATRIZ.SWAL.ERROR_ELIMINAR),icon:"error",confirmButtonText:""+a.a.ACEPTAR})}))})}listarNormas(t){this.dialog.open(ot,{data:{data:t,readonly:!1},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina,this.spinner.hide()},t=>{this.spinner.hide()})}findNameEspecialidadById(t){return this.especialidadesListaLineal.filter(e=>e.id===t)[0].nombreEspecialidad}construirArrayLineal(t){const e=Object.keys(t);for(let i of e)this.recorrerArray(t[i])}recorrerArray(t){for(let e of t)this.recorrerObject(e)}recorrerObject(t){this.especialidadesListaLineal.push(t),t.children&&this.recorrerArray(t.children)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(W.a),c.Rb(R.b),c.Rb(p.a),c.Rb(S.c))},t.\u0275cmp=c.Lb({type:t,selectors:[["matriz-gestion-matriz"]],decls:37,vars:9,consts:[[1,"contenedor"],[1,"div-center"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent",3,"click"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Estado"],["matColumnDef","Editar"],["matColumnDef","Eliminar"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-header-cell",""],["mat-cell",""],["mat-button","","color","accent",3,"matTooltip","click"],[1,"example-element-detail"],[1,"example-element-description"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,e){1&t&&(c.Xb(0,"mat-card",0),c.Xb(1,"mat-card-title",1),c.Ic(2),c.Wb(),c.Xb(3,"div",2),c.Xb(4,"button",3),c.fc("click",(function(){return e.nuevo()})),c.Xb(5,"mat-icon"),c.Ic(6,"add_circle"),c.Wb(),c.Ic(7),c.Wb(),c.Wb(),c.Sb(8,"br"),c.Xb(9,"table",4),c.Vb(10,5),c.Gc(11,At,2,0,"th",6),c.Gc(12,St,2,1,"td",7),c.Ub(),c.Vb(13,8),c.Gc(14,Wt,2,0,"th",6),c.Gc(15,vt,2,1,"td",7),c.Ub(),c.Vb(16,9),c.Gc(17,wt,2,1,"th",6),c.Gc(18,Nt,2,1,"td",7),c.Ub(),c.Vb(19,10),c.Gc(20,_t,2,1,"th",6),c.Gc(21,Xt,3,4,"td",7),c.Ub(),c.Vb(22,11),c.Gc(23,Dt,2,1,"th",6),c.Gc(24,Pt,2,1,"td",7),c.Ub(),c.Vb(25,12),c.Gc(26,Gt,1,0,"th",6),c.Gc(27,zt,4,1,"td",7),c.Ub(),c.Vb(28,13),c.Gc(29,yt,1,0,"th",6),c.Gc(30,jt,4,1,"td",7),c.Ub(),c.Vb(31,14),c.Gc(32,kt,18,10,"td",7),c.Ub(),c.Gc(33,Lt,1,0,"tr",15),c.Gc(34,Bt,1,2,"tr",16),c.Gc(35,qt,1,0,"tr",17),c.Wb(),c.Xb(36,"mat-paginator",18),c.fc("page",(function(t){return e.pageEvent=e.paginationData(t)})),c.Wb(),c.Wb()),2&t&&(c.Eb(2),c.Kc(" ",e.i18n.MATRIZ.LISTA_MATRICES," "),c.Eb(5),c.Kc("",e.i18n.MATRIZ.CREAR_MATRIZ," "),c.Eb(2),c.pc("dataSource",e.dataSource),c.Eb(24),c.pc("matHeaderRowDef",e.displayedColumns),c.Eb(1),c.pc("matRowDefColumns",e.displayedColumns),c.Eb(1),c.pc("matRowDefColumns",c.rc(8,Ut)),c.Eb(1),c.pc("pageSize",e.registroPorPagina)("length",e.totalPaginas))},directives:[h.a,h.i,v.a,I.a,C.j,C.c,C.e,C.b,C.g,C.i,O.a,C.d,C.a,y.a,C.f,C.h],pipes:[l.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(T.n)("detailExpand",[Object(T.k)("collapsed",Object(T.l)({height:"0px",minHeight:"0"})),Object(T.k)("expanded",Object(T.l)({height:"*"})),Object(T.m)("expanded <=> collapsed",Object(T.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function Zt(t,e){if(1&t&&(c.Xb(0,"mat-icon"),c.Ic(1,"list"),c.Wb(),c.Ic(2)),2&t){const t=c.jc(2);c.Eb(2),c.Kc("",t.i18n.MATRIZ.TAB_MATRIZ," ")}}function Jt(t,e){1&t&&(c.Xb(0,"mat-tab"),c.Gc(1,Zt,3,1,"ng-template",1),c.Sb(2,"matriz-matrices"),c.Wb())}function $t(t,e){if(1&t&&(c.Xb(0,"mat-icon"),c.Ic(1,"history_edu"),c.Wb(),c.Ic(2)),2&t){const t=c.jc(2);c.Eb(2),c.Kc("",t.i18n.MATRIZ.TAB_MIS_MATRICES," ")}}function Kt(t,e){1&t&&(c.Xb(0,"mat-tab"),c.Gc(1,$t,3,1,"ng-template",1),c.Sb(2,"matriz-mis-matrices"),c.Wb())}function Ht(t,e){if(1&t&&(c.Xb(0,"mat-icon"),c.Ic(1,"settings_system_daydream"),c.Wb(),c.Ic(2)),2&t){const t=c.jc(2);c.Eb(2),c.Kc("",t.i18n.MATRIZ.TAB_MATRIZ_GESTION," ")}}function Ft(t,e){1&t&&(c.Xb(0,"mat-tab"),c.Gc(1,Ht,3,1,"ng-template",1),c.Sb(2,"matriz-gestion-matriz"),c.Wb())}const Yt=[{path:"",component:(()=>{class t{constructor(t){this.authService=t,this.i18n=a.a}ngOnInit(){}isCliente(){return this.authService.isCliente()}isAdmin(){return this.authService.isAdmin()}isProveedor(){return this.authService.isProveedor()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(r.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-matriz-main"]],decls:4,vars:3,consts:[[4,"ngIf"],["mat-tab-label",""]],template:function(t,e){1&t&&(c.Xb(0,"mat-tab-group"),c.Gc(1,Jt,3,0,"mat-tab",0),c.Gc(2,Kt,3,0,"mat-tab",0),c.Gc(3,Ft,3,0,"mat-tab",0),c.Wb()),2&t&&(c.Eb(1),c.pc("ngIf",e.isProveedor()||e.isCliente()),c.Eb(1),c.pc("ngIf",e.isProveedor()||e.isCliente()),c.Eb(1),c.pc("ngIf",e.isAdmin()))},directives:[s.b,l.m,s.a,s.c,E,I.a,Rt,Vt],styles:[""]}),t})(),canActivate:[o.a]}];let Qt=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},imports:[[n.d.forChild(Yt)],n.d]}),t})();var te=i("W/RB"),ee=i("tk/3"),ie=i("x4Iw"),ne=i("212I");let oe=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},providers:[{provide:ee.a,useClass:ie.a,multi:!0},{provide:ee.a,useClass:ne.a,multi:!0}],imports:[[te.a,Qt]]}),t})()}}]);