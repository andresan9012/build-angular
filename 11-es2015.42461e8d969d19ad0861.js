(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"Ae/7":function(t,e,c){"use strict";c.r(e),c.d(e,"MatrizModule",(function(){return xt}));var i=c("tyNb"),a=c("PC/O"),n=c("//6i"),o=c("fXoL"),r=c("N/25"),d=c("wZkO"),s=c("ofXK"),l=c("PSD3"),m=c.n(l),p=c("10MT"),u=c("j+aK"),h=c("Wp6s"),f=c("LSEc");function b(t,e){if(1&t&&(o.dc(0,"mat-card",1),o.dc(1,"mat-card-title",2),o.Nc(2),o.cc(),o.Yb(3,"matriz-especialidad-card",3),o.cc()),2&t){const t=e.$implicit,c=o.pc();o.Kb(2),o.Pc(" ",t," "),o.Kb(1),o.vc("data",c.matrices[t])("select",!1)}}let O=(()=>{class t{constructor(t,e){this.especialidadService=t,this.matricesEmitService=e,this.i18n=n.a}ngOnInit(){this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.matrices=t,this.keyMatrices=Object.keys(t)},t=>{m.a.fire({text:""+n.a.MATRIZ.SWAL.ERROR_OBTENER_ESPECIALIDAD,icon:"error",confirmButtonText:""+n.a.ACEPTAR})})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(p.a),o.Xb(u.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["matriz-matrices"]],decls:1,vars:1,consts:[["class","contenedor",4,"ngFor","ngForOf"],[1,"contenedor"],[1,"div-center"],[3,"data","select"]],template:function(t,e){1&t&&o.Lc(0,b,4,3,"mat-card",0),2&t&&o.vc("ngForOf",e.keyMatrices)},directives:[s.l,h.a,h.i,f.a],styles:[".div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:900px}"]}),t})();var g=c("NFeN"),N=c("M9IT"),C=c("+0xr"),v=c("R0Ic"),T=c("Uw2o"),I=c("bTqV"),R=c("Qu3c");function M(t,e){1&t&&(o.dc(0,"th",13),o.Nc(1," Codigo"),o.cc())}function x(t,e){if(1&t&&(o.dc(0,"td",14),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Oc(t.codigo)}}function E(t,e){1&t&&(o.dc(0,"th",13),o.Nc(1," Version"),o.cc())}function A(t,e){if(1&t&&(o.dc(0,"td",14),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Oc(t.version)}}function D(t,e){if(1&t&&(o.dc(0,"th",13),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.NOMBRE_MATRIZ)}}function w(t,e){if(1&t&&(o.dc(0,"td",14),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc(" ",t.nombreMatriz," ")}}function S(t,e){if(1&t&&(o.dc(0,"th",13),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.FECHA_PUBLICACION)}}function _(t,e){if(1&t&&(o.dc(0,"td",14),o.Nc(1),o.qc(2,"date"),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc("",o.sc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function P(t,e){if(1&t&&(o.dc(0,"th",13),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.ENTIDAD_EMISORA)}}function z(t,e){if(1&t&&(o.dc(0,"td",14),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc("",t.entidadEmisora," ")}}function K(t,e){if(1&t&&(o.dc(0,"td",14),o.dc(1,"div",15),o.dc(2,"div",16),o.dc(3,"p"),o.dc(4,"button",17),o.dc(5,"mat-icon"),o.Nc(6,"picture_as_pdf"),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(7,"div",16),o.dc(8,"span",18),o.Nc(9),o.cc(),o.dc(10,"p"),o.Nc(11),o.cc(),o.cc(),o.dc(12,"div",16),o.dc(13,"span",18),o.Nc(14),o.cc(),o.dc(15,"p"),o.Nc(16),o.cc(),o.cc(),o.dc(17,"div",16),o.dc(18,"span",18),o.Nc(19),o.cc(),o.dc(20,"p"),o.Nc(21),o.cc(),o.cc(),o.dc(22,"div",16),o.dc(23,"span",18),o.Nc(24),o.cc(),o.dc(25,"p"),o.Nc(26),o.cc(),o.cc(),o.cc(),o.cc()),2&t){const t=e.$implicit,c=o.pc();o.Lb("colspan",c.displayedColumns.length),o.Kb(1),o.vc("@detailExpand",t==c.expandedElement?"expanded":"collapsed"),o.Kb(8),o.Oc(c.i18n.DTO.RECURSO),o.Kb(2),o.Oc(t.recurso),o.Kb(3),o.Oc(c.i18n.DTO.TIPO_NORMA),o.Kb(2),o.Oc(t.tipoNormal),o.Kb(3),o.Oc(c.i18n.DTO.ESTADO),o.Kb(2),o.Oc(t.estado),o.Kb(3),o.Oc(c.i18n.DTO.DESCRIPCION),o.Kb(2),o.Oc(t.descripcionDeNorma)}}function y(t,e){1&t&&o.Yb(0,"tr",19)}function L(t,e){if(1&t){const t=o.ec();o.dc(0,"tr",20),o.lc("click",(function(){o.Ec(t);const c=e.$implicit,i=o.pc();return i.expandedElement=i.expandedElement===c?null:c})),o.cc()}if(2&t){const t=e.$implicit,c=o.pc();o.Ob("example-expanded-row",c.expandedElement===t)}}function q(t,e){1&t&&o.Yb(0,"tr",21)}const k=function(){return["expandedDetail"]},G=function(){return[5,10,15]};let Z=(()=>{class t{constructor(t){this.matrizService=t,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Entidad"],this.i18n=n.a}ngOnInit(){this.matrizService.getMatrizCompradas().subscribe(t=>{const e=[];t.forEach(t=>{e.push(t.matriz)}),this.dataSource=new C.k(e),this.dataSource.paginator=this.paginator})}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(T.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["matriz-mis-matrices"]],viewQuery:function(t,e){var c;1&t&&o.Jc(N.a,!0),2&t&&o.Ac(c=o.mc())&&(e.paginator=c.first)},decls:22,vars:7,consts:[["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Entidad"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"example-element-description"],["mat-button","","matTooltip","Descargar Matriz PDF","color","accent"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,e){1&t&&(o.dc(0,"table",0),o.bc(1,1),o.Lc(2,M,2,0,"th",2),o.Lc(3,x,2,1,"td",3),o.ac(),o.bc(4,4),o.Lc(5,E,2,0,"th",2),o.Lc(6,A,2,1,"td",3),o.ac(),o.bc(7,5),o.Lc(8,D,2,1,"th",2),o.Lc(9,w,2,1,"td",3),o.ac(),o.bc(10,6),o.Lc(11,S,2,1,"th",2),o.Lc(12,_,3,4,"td",3),o.ac(),o.bc(13,7),o.Lc(14,P,2,1,"th",2),o.Lc(15,z,2,1,"td",3),o.ac(),o.bc(16,8),o.Lc(17,K,27,10,"td",3),o.ac(),o.Lc(18,y,1,0,"tr",9),o.Lc(19,L,1,2,"tr",10),o.Lc(20,q,1,0,"tr",11),o.cc(),o.Yb(21,"mat-paginator",12)),2&t&&(o.vc("dataSource",e.dataSource),o.Kb(18),o.vc("matHeaderRowDef",e.displayedColumns),o.Kb(1),o.vc("matRowDefColumns",e.displayedColumns),o.Kb(1),o.vc("matRowDefColumns",o.xc(5,k)),o.Kb(1),o.vc("pageSizeOptions",o.xc(6,G)))},directives:[C.j,C.c,C.e,C.b,C.g,C.i,N.a,C.d,C.a,I.a,R.a,g.a,C.f,C.h],pipes:[s.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(v.n)("detailExpand",[Object(v.k)("collapsed",Object(v.l)({height:"0px",minHeight:"0"})),Object(v.k)("expanded",Object(v.l)({height:"*"})),Object(v.m)("expanded <=> collapsed",Object(v.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();var B=c("Q6lY"),j=c("3Pt+"),Y=c("0IaG");class V{}var $=c("sE+t"),U=c("JqCM"),X=c("kmnG"),W=c("qFsG"),F=c("f0Cb");let H=(()=>{class t{constructor(t,e,c,i,a,o,r,d){this.dialogRef=t,this.data=e,this._formBuilder=c,this.spinner=i,this.dialog=a,this.matricesEmitService=o,this.especialidadService=r,this.matrizService=d,this.title=""+n.a.MATRIZ.TITLE_REGISTRO,this.i18n=n.a}ngOnInit(){this.formGroup=this._formBuilder.group({recurso:["",j.q.required],concepto:["",j.q.required],tipoNormal:["",j.q.required],numeroInternoMatriz:["",j.q.required],entidadEmisora:["",j.q.required],descripcionDeNorma:["",j.q.required],estado:["",j.q.required],nombreMatriz:["",j.q.required],version:["",j.q.required],codigo:["",j.q.required],especialidadId:[0,j.q.required],especialidadNombre:["",j.q.required]});var t=new s.f("en").transform(new Date,"yyyy-MM-dd");this.data.edit?(this.title=""+n.a.MATRIZ.TITLE_EDITAR,this.matriz=this.data.matriz,this.matriz.fechaActualizacion=t,this.getMatrizEditar()):(this.matriz=new V,this.matriz.id=0,this.matriz.fechaActualizacion=t,this.matriz.fechaPublicacion=t),this.sectorEconomicoSubscribe=this.matricesEmitService.seleccionSector$.subscribe(t=>{null!=t&&(this.formGroup.controls.especialidadId.setValue(t.id),this.formGroup.controls.especialidadNombre.setValue(t.nombreEspecialidad))})}guardar(){this.data.edit?this.guardarExistente():this.guardarNuevo()}guardarExistente(){m.a.fire({title:""+n.a.MATRIZ.SWAL.QUESTION_EDITAR,icon:"question",showCancelButton:!0,confirmButtonText:""+n.a.SI,cancelButtonText:""+n.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.editar(this.matriz).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.SUCCESS_EDITAR,icon:"success",confirmButtonText:""+n.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.ERROR_EDITAR,icon:"error",confirmButtonText:""+n.a.ACEPTAR})}))})}guardarNuevo(){m.a.fire({title:""+n.a.MATRIZ.SWAL.QUESTION_REGISTRO,icon:"question",showCancelButton:!0,confirmButtonText:""+n.a.SI,cancelButtonText:""+n.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.crear(this.matriz).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.SUCCESS_REGISTRO,icon:"success",confirmButtonText:""+n.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.ERROR_REGISTRO,icon:"error",confirmButtonText:""+n.a.ACEPTAR})}))})}seleccionarSectorEconomico(){this.dialog.open($.a,{data:{},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}setMatriz(){this.matriz.recurso=this.formGroup.controls.recurso.value,this.matriz.concepto=this.formGroup.controls.concepto.value,this.matriz.tipoNormal=this.formGroup.controls.tipoNormal.value,this.matriz.numeroInternoMatriz=this.formGroup.controls.numeroInternoMatriz.value,this.matriz.entidadEmisora=this.formGroup.controls.entidadEmisora.value,this.matriz.descripcionDeNorma=this.formGroup.controls.descripcionDeNorma.value,this.matriz.nombreMatriz=this.formGroup.controls.nombreMatriz.value,this.matriz.version=this.formGroup.controls.version.value,this.matriz.codigo=this.formGroup.controls.codigo.value,this.matriz.estado=this.formGroup.controls.estado.value,this.matriz.especialidadId=this.formGroup.controls.especialidadId.value}getMatrizEditar(){this.formGroup.controls.recurso.setValue(this.matriz.recurso),this.formGroup.controls.concepto.setValue(this.matriz.concepto),this.formGroup.controls.tipoNormal.setValue(this.matriz.tipoNormal),this.formGroup.controls.numeroInternoMatriz.setValue(this.matriz.numeroInternoMatriz),this.formGroup.controls.entidadEmisora.setValue(this.matriz.entidadEmisora),this.formGroup.controls.descripcionDeNorma.setValue(this.matriz.descripcionDeNorma),this.formGroup.controls.nombreMatriz.setValue(this.matriz.nombreMatriz),this.formGroup.controls.version.setValue(this.matriz.version),this.formGroup.controls.codigo.setValue(this.matriz.codigo),this.formGroup.controls.especialidadId.setValue(this.matriz.especialidadId),this.formGroup.controls.especialidadNombre.setValue(this.data.nameEspecialidad),this.formGroup.controls.estado.setValue(this.matriz.estado)}onClickCancel(){this.sectorEconomicoSubscribe.unsubscribe(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(Y.d),o.Xb(Y.a),o.Xb(j.c),o.Xb(U.c),o.Xb(Y.b),o.Xb(u.a),o.Xb(p.a),o.Xb(T.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["app-editar-matriz"]],decls:66,vars:27,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","nombreMatriz","required","",3,"placeholder"],["matInput","","formControlName","codigo","required","",3,"placeholder"],["matInput","","formControlName","version","required","",3,"placeholder"],["matInput","","formControlName","especialidadNombre","readonly","",3,"placeholder"],["matSuffix","",3,"click"],["matInput","","formControlName","recurso","required","",3,"placeholder"],["matInput","","formControlName","concepto","required","",3,"placeholder"],["matInput","","formControlName","tipoNormal","required","",3,"placeholder"],["matInput","","formControlName","numeroInternoMatriz","required","",3,"placeholder"],[1,"mat-form-field2"],["matInput","","formControlName","descripcionDeNorma","required","",3,"placeholder"],["matInput","","formControlName","entidadEmisora","required","",3,"placeholder"],["matInput","","formControlName","estado","required","",3,"placeholder"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent","color","accent",3,"click"],["mat-button","","color","accent",3,"disabled","click"]],template:function(t,e){1&t&&(o.dc(0,"button",0),o.lc("click",(function(){return e.onClickCancel()})),o.dc(1,"mat-icon",1),o.Nc(2,"close"),o.cc(),o.cc(),o.dc(3,"h2",2),o.Nc(4),o.cc(),o.dc(5,"div",3),o.dc(6,"form",4),o.Yb(7,"br"),o.dc(8,"mat-form-field"),o.dc(9,"mat-label"),o.Nc(10),o.cc(),o.Yb(11,"input",5),o.cc(),o.dc(12,"mat-form-field"),o.dc(13,"mat-label"),o.Nc(14),o.cc(),o.Yb(15,"input",6),o.cc(),o.dc(16,"mat-form-field"),o.dc(17,"mat-label"),o.Nc(18),o.cc(),o.Yb(19,"input",7),o.cc(),o.dc(20,"mat-form-field"),o.dc(21,"mat-label"),o.Nc(22),o.cc(),o.Yb(23,"input",8),o.dc(24,"mat-icon",9),o.lc("click",(function(){return e.seleccionarSectorEconomico()})),o.Nc(25,"search"),o.cc(),o.cc(),o.dc(26,"mat-form-field"),o.dc(27,"mat-label"),o.Nc(28),o.cc(),o.Yb(29,"input",10),o.cc(),o.dc(30,"mat-form-field"),o.dc(31,"mat-label"),o.Nc(32),o.cc(),o.Yb(33,"input",11),o.cc(),o.dc(34,"mat-form-field"),o.dc(35,"mat-label"),o.Nc(36),o.cc(),o.Yb(37,"input",12),o.cc(),o.dc(38,"mat-form-field"),o.dc(39,"mat-label"),o.Nc(40),o.cc(),o.Yb(41,"input",13),o.cc(),o.dc(42,"mat-form-field",14),o.dc(43,"mat-label"),o.Nc(44),o.cc(),o.Yb(45,"textarea",15),o.cc(),o.dc(46,"mat-form-field"),o.dc(47,"mat-label"),o.Nc(48),o.cc(),o.Yb(49,"input",16),o.cc(),o.dc(50,"mat-form-field"),o.dc(51,"mat-label"),o.Nc(52),o.cc(),o.Yb(53,"input",17),o.cc(),o.cc(),o.cc(),o.Yb(54,"br"),o.Yb(55,"mat-divider"),o.Yb(56,"br"),o.dc(57,"div",18),o.dc(58,"button",19),o.lc("click",(function(){return e.onClickCancel()})),o.dc(59,"mat-icon"),o.Nc(60,"close"),o.cc(),o.Nc(61),o.cc(),o.dc(62,"button",20),o.lc("click",(function(){return e.guardar()})),o.dc(63,"mat-icon"),o.Nc(64,"save"),o.cc(),o.Nc(65),o.cc(),o.cc()),2&t&&(o.Kb(4),o.Oc(e.title),o.Kb(2),o.vc("formGroup",e.formGroup),o.Kb(4),o.Oc(e.i18n.DTO.MATRIZ_NOMBRE),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_NOMBRE),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_CODIGO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_CODIGO),o.Kb(3),o.Oc(e.i18n.DTO.VERSION),o.Kb(1),o.vc("placeholder",e.i18n.DTO.VERSION),o.Kb(3),o.Oc(e.i18n.DTO.SECTOR_ECONOMICO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.SECTOR_ECONOMICO),o.Kb(5),o.Oc(e.i18n.DTO.MATRIZ_RECURSO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_RECURSO),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_CONCEPTO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_CONCEPTO),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_TIPO_NORMA),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_TIPO_NORMA),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_NUMERO_INTERNO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_NUMERO_INTERNO),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_DESCRIPCION_NORMA),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_DESCRIPCION_NORMA),o.Kb(3),o.Oc(e.i18n.DTO.MATRIZ_ENTIDAD_EMISORA),o.Kb(1),o.vc("placeholder",e.i18n.DTO.MATRIZ_ENTIDAD_EMISORA),o.Kb(3),o.Oc(e.i18n.DTO.ESTADO),o.Kb(1),o.vc("placeholder",e.i18n.DTO.ESTADO),o.Kb(8),o.Pc("",e.i18n.CANCEL," "),o.Kb(1),o.vc("disabled",e.formGroup.invalid),o.Kb(3),o.Pc("",e.i18n.GUARDAR," "))},directives:[I.a,g.a,j.r,j.k,j.e,X.c,X.f,W.b,j.b,j.j,j.d,j.p,X.g,F.a],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-form-field2[_ngcontent-%COMP%]{width:100%}"]}),t})();function Q(t,e){1&t&&(o.dc(0,"th",17),o.Nc(1," Codigo"),o.cc())}function J(t,e){if(1&t&&(o.dc(0,"td",18),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Oc(t.codigo)}}function tt(t,e){1&t&&(o.dc(0,"th",17),o.Nc(1," Version"),o.cc())}function et(t,e){if(1&t&&(o.dc(0,"td",18),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Oc(t.version)}}function ct(t,e){if(1&t&&(o.dc(0,"th",17),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.NOMBRE_MATRIZ)}}function it(t,e){if(1&t&&(o.dc(0,"td",18),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc(" ",t.nombreMatriz," ")}}function at(t,e){if(1&t&&(o.dc(0,"th",17),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.FECHA_PUBLICACION)}}function nt(t,e){if(1&t&&(o.dc(0,"td",18),o.Nc(1),o.qc(2,"date"),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc("",o.sc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function ot(t,e){if(1&t&&(o.dc(0,"th",17),o.Nc(1),o.cc()),2&t){const t=o.pc();o.Kb(1),o.Oc(t.i18n.DTO.ENTIDAD_EMISORA)}}function rt(t,e){if(1&t&&(o.dc(0,"td",18),o.Nc(1),o.cc()),2&t){const t=e.$implicit;o.Kb(1),o.Pc("",t.entidadEmisora," ")}}function dt(t,e){if(1&t){const t=o.ec();o.dc(0,"td",18),o.dc(1,"div",19),o.dc(2,"div",20),o.dc(3,"p"),o.dc(4,"button",21),o.lc("click",(function(){o.Ec(t);const c=e.$implicit;return o.pc().editar(c)})),o.dc(5,"mat-icon"),o.Nc(6,"edit"),o.cc(),o.cc(),o.dc(7,"button",21),o.lc("click",(function(){o.Ec(t);const c=e.$implicit;return o.pc().eliminar(c)})),o.dc(8,"mat-icon"),o.Nc(9,"delete"),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(10,"div",20),o.dc(11,"span",22),o.Nc(12),o.cc(),o.dc(13,"p"),o.Nc(14),o.qc(15,"date"),o.cc(),o.cc(),o.dc(16,"div",20),o.dc(17,"span",22),o.Nc(18),o.cc(),o.dc(19,"p"),o.Nc(20),o.cc(),o.cc(),o.dc(21,"div",20),o.dc(22,"span",22),o.Nc(23),o.cc(),o.dc(24,"p"),o.Nc(25),o.cc(),o.cc(),o.dc(26,"div",20),o.dc(27,"span",22),o.Nc(28),o.cc(),o.dc(29,"p"),o.Nc(30),o.cc(),o.cc(),o.dc(31,"div",20),o.dc(32,"span",22),o.Nc(33),o.cc(),o.dc(34,"p"),o.Nc(35),o.cc(),o.cc(),o.dc(36,"div",20),o.dc(37,"span",22),o.Nc(38),o.cc(),o.dc(39,"p"),o.Nc(40),o.cc(),o.cc(),o.cc(),o.cc()}if(2&t){const t=e.$implicit,c=o.pc();o.Lb("colspan",c.displayedColumns.length),o.Kb(1),o.vc("@detailExpand",t==c.expandedElement?"expanded":"collapsed"),o.Kb(3),o.vc("matTooltip",c.i18n.EDITAR),o.Kb(3),o.vc("matTooltip",c.i18n.ELIMINAR),o.Kb(5),o.Oc(c.i18n.DTO.FECHA_ACTUALIZACION),o.Kb(2),o.Pc("",o.sc(15,16,t.fechaActualizacion,"dd/MM/yyyy")," "),o.Kb(4),o.Oc(c.i18n.DTO.SECTOR_ECONOMICO),o.Kb(2),o.Oc(c.findNameEspecialidadById(t.especialidadId)),o.Kb(3),o.Oc(c.i18n.DTO.RECURSO),o.Kb(2),o.Oc(t.recurso),o.Kb(3),o.Oc(c.i18n.DTO.TIPO_NORMA),o.Kb(2),o.Oc(t.tipoNormal),o.Kb(3),o.Oc(c.i18n.DTO.ESTADO),o.Kb(2),o.Oc(t.estado),o.Kb(3),o.Oc(c.i18n.DTO.DESCRIPCION),o.Kb(2),o.Oc(t.descripcionDeNorma)}}function st(t,e){1&t&&o.Yb(0,"tr",23)}function lt(t,e){if(1&t){const t=o.ec();o.dc(0,"tr",24),o.lc("click",(function(){o.Ec(t);const c=e.$implicit,i=o.pc();return i.expandedElement=i.expandedElement===c?null:c})),o.cc()}if(2&t){const t=e.$implicit,c=o.pc();o.Ob("example-expanded-row",c.expandedElement===t)}}function mt(t,e){1&t&&o.Yb(0,"tr",25)}const pt=function(){return["expandedDetail"]};let ut=(()=>{class t{constructor(t,e,c,i){this.matrizService=t,this.dialog=e,this.especialidadService=c,this.spinner=i,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Entidad"],this.especialidadesListaLineal=[],this.paginacion=new B.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.i18n=n.a}ngOnInit(){this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.registroPorPagina=t.registroPorPagina,this.totalPaginas=t.paginaActual}),this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.construirArrayLineal(t)})}nuevo(){this.dialog.open(H,{data:{edit:!1,matriz:null},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}editar(t){const e={edit:!0,matriz:t,nameEspecialidad:this.findNameEspecialidadById(t.especialidadId)};console.log(e),this.dialog.open(H,{data:e,width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}eliminar(t){m.a.fire({title:""+n.a.MATRIZ.SWAL.QUESTION_ELIMINAR,icon:"question",showCancelButton:!0,confirmButtonText:""+n.a.SI,cancelButtonText:""+n.a.NO}).then(e=>{e.isConfirmed&&(this.spinner.show(),this.matrizService.eliminar(t).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.SUCCESS_ELIMINAR,icon:"success",confirmButtonText:""+n.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+n.a.MATRIZ.SWAL.ERROR_ELIMINAR,icon:"error",confirmButtonText:""+n.a.ACEPTAR})}))})}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.totalPaginas=10*t.paginaActual,this.registroPorPagina=t.registroPorPagina,this.spinner.hide()},t=>{this.spinner.hide()})}findNameEspecialidadById(t){return this.especialidadesListaLineal.filter(e=>e.id===t)[0].nombreEspecialidad}construirArrayLineal(t){const e=Object.keys(t);for(let c of e)this.recorrerArray(t[c])}recorrerArray(t){for(let e of t)this.recorrerObject(e)}recorrerObject(t){this.especialidadesListaLineal.push(t),t.children&&this.recorrerArray(t.children)}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(T.a),o.Xb(Y.b),o.Xb(p.a),o.Xb(U.c))},t.\u0275cmp=o.Rb({type:t,selectors:[["matriz-gestion-matriz"]],decls:31,vars:9,consts:[[1,"contenedor"],[1,"div-center"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent",3,"click"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Entidad"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"example-element-description"],["mat-button","","color","accent",3,"matTooltip","click"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,e){1&t&&(o.dc(0,"mat-card",0),o.dc(1,"mat-card-title",1),o.Nc(2),o.cc(),o.dc(3,"div",2),o.dc(4,"button",3),o.lc("click",(function(){return e.nuevo()})),o.dc(5,"mat-icon"),o.Nc(6,"add_circle"),o.cc(),o.Nc(7),o.cc(),o.cc(),o.Yb(8,"br"),o.dc(9,"table",4),o.bc(10,5),o.Lc(11,Q,2,0,"th",6),o.Lc(12,J,2,1,"td",7),o.ac(),o.bc(13,8),o.Lc(14,tt,2,0,"th",6),o.Lc(15,et,2,1,"td",7),o.ac(),o.bc(16,9),o.Lc(17,ct,2,1,"th",6),o.Lc(18,it,2,1,"td",7),o.ac(),o.bc(19,10),o.Lc(20,at,2,1,"th",6),o.Lc(21,nt,3,4,"td",7),o.ac(),o.bc(22,11),o.Lc(23,ot,2,1,"th",6),o.Lc(24,rt,2,1,"td",7),o.ac(),o.bc(25,12),o.Lc(26,dt,41,19,"td",7),o.ac(),o.Lc(27,st,1,0,"tr",13),o.Lc(28,lt,1,2,"tr",14),o.Lc(29,mt,1,0,"tr",15),o.cc(),o.dc(30,"mat-paginator",16),o.lc("page",(function(t){return e.pageEvent=e.paginationData(t)})),o.cc(),o.cc()),2&t&&(o.Kb(2),o.Pc(" ",e.i18n.MATRIZ.LISTA_MATRICES," "),o.Kb(5),o.Pc("",e.i18n.MATRIZ.CREAR_MATRIZ," "),o.Kb(2),o.vc("dataSource",e.dataSource),o.Kb(18),o.vc("matHeaderRowDef",e.displayedColumns),o.Kb(1),o.vc("matRowDefColumns",e.displayedColumns),o.Kb(1),o.vc("matRowDefColumns",o.xc(8,pt)),o.Kb(1),o.vc("pageSize",e.registroPorPagina)("length",e.totalPaginas))},directives:[h.a,h.i,I.a,g.a,C.j,C.c,C.e,C.b,C.g,C.i,N.a,C.d,C.a,R.a,C.f,C.h],pipes:[s.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(v.n)("detailExpand",[Object(v.k)("collapsed",Object(v.l)({height:"0px",minHeight:"0"})),Object(v.k)("expanded",Object(v.l)({height:"*"})),Object(v.m)("expanded <=> collapsed",Object(v.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function ht(t,e){if(1&t&&(o.dc(0,"mat-icon"),o.Nc(1,"list"),o.cc(),o.Nc(2)),2&t){const t=o.pc(2);o.Kb(2),o.Pc("",t.i18n.MATRIZ.TAB_MATRIZ," ")}}function ft(t,e){1&t&&(o.dc(0,"mat-tab"),o.Lc(1,ht,3,1,"ng-template",1),o.Yb(2,"matriz-matrices"),o.cc())}function bt(t,e){if(1&t&&(o.dc(0,"mat-icon"),o.Nc(1,"history_edu"),o.cc(),o.Nc(2)),2&t){const t=o.pc(2);o.Kb(2),o.Pc("",t.i18n.MATRIZ.TAB_MIS_MATRICES," ")}}function Ot(t,e){1&t&&(o.dc(0,"mat-tab"),o.Lc(1,bt,3,1,"ng-template",1),o.Yb(2,"matriz-mis-matrices"),o.cc())}function gt(t,e){if(1&t&&(o.dc(0,"mat-icon"),o.Nc(1,"settings_system_daydream"),o.cc(),o.Nc(2)),2&t){const t=o.pc(2);o.Kb(2),o.Pc("",t.i18n.MATRIZ.TAB_MATRIZ_GESTION," ")}}function Nt(t,e){1&t&&(o.dc(0,"mat-tab"),o.Lc(1,gt,3,1,"ng-template",1),o.Yb(2,"matriz-gestion-matriz"),o.cc())}const Ct=[{path:"",component:(()=>{class t{constructor(t){this.authService=t,this.i18n=n.a}ngOnInit(){}isCliente(){return this.authService.isCliente()}isAdmin(){return this.authService.isAdmin()}isProveedor(){return this.authService.isProveedor()}}return t.\u0275fac=function(e){return new(e||t)(o.Xb(r.a))},t.\u0275cmp=o.Rb({type:t,selectors:[["app-matriz-main"]],decls:4,vars:3,consts:[[4,"ngIf"],["mat-tab-label",""]],template:function(t,e){1&t&&(o.dc(0,"mat-tab-group"),o.Lc(1,ft,3,0,"mat-tab",0),o.Lc(2,Ot,3,0,"mat-tab",0),o.Lc(3,Nt,3,0,"mat-tab",0),o.cc()),2&t&&(o.Kb(1),o.vc("ngIf",e.isProveedor()||e.isCliente()),o.Kb(1),o.vc("ngIf",e.isProveedor()||e.isCliente()),o.Kb(1),o.vc("ngIf",e.isAdmin()))},directives:[d.b,s.m,d.a,d.c,O,g.a,Z,ut],styles:[""]}),t})(),canActivate:[a.a]}];let vt=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},imports:[[i.d.forChild(Ct)],i.d]}),t})();var Tt=c("W/RB"),It=c("tk/3"),Rt=c("x4Iw"),Mt=c("212I");let xt=(()=>{class t{}return t.\u0275mod=o.Vb({type:t}),t.\u0275inj=o.Ub({factory:function(e){return new(e||t)},providers:[{provide:It.a,useClass:Rt.a,multi:!0},{provide:It.a,useClass:Mt.a,multi:!0}],imports:[[Tt.a,vt]]}),t})()}}]);