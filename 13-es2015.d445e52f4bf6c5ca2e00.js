(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"Ae/7":function(t,c,e){"use strict";e.r(c),e.d(c,"MatrizModule",(function(){return Jt}));var i=e("tyNb"),n=e("PC/O"),o=e("//6i"),a=e("fXoL"),r=e("N/25"),d=e("wZkO"),l=e("ofXK"),s=e("PSD3"),m=e.n(s),p=e("a/SU"),u=e("10MT"),h=e("j+aK"),f=e("Wp6s"),b=e("LSEc");function O(t,c){if(1&t&&(a.dc(0,"mat-card",1),a.dc(1,"mat-card-title",2),a.Nc(2),a.cc(),a.Yb(3,"matriz-especialidad-card",3),a.cc()),2&t){const t=c.$implicit,e=a.pc();a.Kb(2),a.Pc(" ",t," "),a.Kb(1),a.vc("data",e.matrices[t])("select",!1)}}let g=(()=>{class t{constructor(t,c){this.especialidadService=t,this.matricesEmitService=c,this.i18n=o.a}ngOnInit(){this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.matrices=t,this.keyMatrices=Object.keys(t)},t=>{m.a.fire({html:""+Object(p.a)(t,o.a.MATRIZ.SWAL.ERROR_OBTENER_ESPECIALIDAD),icon:"error",confirmButtonText:""+o.a.ACEPTAR})})}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(u.a),a.Xb(h.a))},t.\u0275cmp=a.Rb({type:t,selectors:[["matriz-matrices"]],decls:1,vars:1,consts:[["class","contenedor",4,"ngFor","ngForOf"],[1,"contenedor"],[1,"div-center"],[3,"data","select"]],template:function(t,c){1&t&&a.Lc(0,O,4,3,"mat-card",0),2&t&&a.vc("ngForOf",c.keyMatrices)},directives:[l.l,f.a,f.i,b.a],styles:[".div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:1rem auto;max-width:900px}"]}),t})();var N=e("NFeN"),C=e("M9IT"),R=e("+0xr"),v=e("R0Ic"),T=e("0IaG");class A{}var I=e("3Pt+"),M=e("4n4j"),x=e("JqCM"),E=e("Uw2o"),D=e("bTqV"),w=e("kmnG"),_=e("d3UM"),P=e("FKr1"),S=e("qFsG"),K=e("f0Cb");function z(t,c){if(1&t&&(a.dc(0,"mat-option",18),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.vc("value",t.id),a.Kb(1),a.Pc(" ",t.nombreComponente," ")}}let L=(()=>{class t{constructor(t,c,e,i,n,a){this.dialogRef=t,this.data=c,this._formBuilder=e,this.spinner=i,this.matrizService=n,this.dialog=a,this.title=""+o.a.MATRIZ.TITLE_REGISTRO_NORMA,this.componentes=[],this.i18n=o.a}ngOnInit(){this.matrizActual=this.data.matriz,this.componentes=M.a.filter(t=>t.id>0),this.formGroup=this._formBuilder.group({recurso:["",I.q.required],concepto:["",I.q.required],tipoNorma:["",I.q.required],numeroNorma:["",I.q.required],"a\xf1o":["",I.q.required],entidadEmisora:["",I.q.required],descripcionDeNorma:["",I.q.required],estado:["",I.q.required]}),this.data.edit?(this.title=""+o.a.MATRIZ.TITLE_EDITAR_NORMA,this.norma=this.data.norma,this.getNormaEditar()):(this.norma=new A,this.norma.id=0)}getNormaEditar(){this.formGroup.controls.recurso.setValue(this.norma.recurso),this.formGroup.controls.concepto.setValue(this.norma.concepto),this.formGroup.controls.tipoNorma.setValue(this.norma.tiponorma),this.formGroup.controls.numeroNorma.setValue(this.norma.numeroNorma),this.formGroup.controls.a\u00f1o.setValue(this.norma.anio),this.formGroup.controls.entidadEmisora.setValue(this.norma.entidademisora),this.formGroup.controls.descripcionDeNorma.setValue(this.norma.descripcion),this.formGroup.controls.estado.setValue(this.norma.estado)}setNorma(){this.norma.recurso=this.formGroup.controls.recurso.value,this.norma.concepto=this.formGroup.controls.concepto.value,this.norma.tiponorma=this.formGroup.controls.tipoNorma.value,this.norma.numeroNorma=Number(this.formGroup.controls.numeroNorma.value),this.norma.anio=this.formGroup.controls.a\u00f1o.value,this.norma.entidademisora=this.formGroup.controls.entidadEmisora.value,this.norma.descripcion=this.formGroup.controls.descripcionDeNorma.value,this.norma.estado=this.formGroup.controls.estado.value,this.norma.matrizId=this.matrizActual.id}guardar(){this.data.edit?this.guardarExistente():this.guardarNuevo()}guardarNuevo(){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_REGISTRO_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setNorma(),this.matrizService.crearNorma(this.norma).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_REGISTRO_NORMA,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({html:""+Object(p.a)(t,o.a.MATRIZ.SWAL.ERROR_REGISTRO_NORMA),icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}guardarExistente(){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_EDITAR_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setNorma(),this.matrizService.editarNorma(this.norma).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_EDITAR_NORMA,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.ERROR_EDITAR_NORMA,icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}onClickCancel(){this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(T.d),a.Xb(T.a),a.Xb(I.c),a.Xb(x.c),a.Xb(E.a),a.Xb(T.b))},t.\u0275cmp=a.Rb({type:t,selectors:[["app-editar-norma"]],decls:55,vars:21,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],[3,"formGroup"],[1,"mat-form-field2"],["formControlName","recurso","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","concepto","required","",3,"placeholder"],["matInput","","formControlName","tipoNorma","required","",3,"placeholder"],["matInput","","type","number","formControlName","numeroNorma","required","",3,"placeholder"],["matInput","","formControlName","a\xf1o","required","",3,"placeholder"],["matInput","","formControlName","entidadEmisora","required","",3,"placeholder"],["matInput","","formControlName","estado","required","",3,"placeholder"],["matInput","","formControlName","descripcionDeNorma","required","",3,"placeholder"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent","color","accent",3,"click"],["mat-button","","color","accent",3,"disabled","click"],[3,"value"]],template:function(t,c){1&t&&(a.dc(0,"button",0),a.lc("click",(function(){return c.onClickCancel()})),a.dc(1,"mat-icon",1),a.Nc(2,"close"),a.cc(),a.cc(),a.dc(3,"h2",2),a.Nc(4),a.cc(),a.dc(5,"div",3),a.dc(6,"form",4),a.Yb(7,"br"),a.dc(8,"mat-form-field",5),a.dc(9,"mat-label"),a.Nc(10),a.cc(),a.dc(11,"mat-select",6),a.dc(12,"mat-option"),a.Nc(13,"--"),a.cc(),a.Lc(14,z,2,2,"mat-option",7),a.cc(),a.cc(),a.dc(15,"mat-form-field"),a.dc(16,"mat-label"),a.Nc(17),a.cc(),a.Yb(18,"input",8),a.cc(),a.dc(19,"mat-form-field"),a.dc(20,"mat-label"),a.Nc(21),a.cc(),a.Yb(22,"input",9),a.cc(),a.dc(23,"mat-form-field"),a.dc(24,"mat-label"),a.Nc(25),a.cc(),a.Yb(26,"input",10),a.cc(),a.dc(27,"mat-form-field"),a.dc(28,"mat-label"),a.Nc(29),a.cc(),a.Yb(30,"input",11),a.cc(),a.dc(31,"mat-form-field"),a.dc(32,"mat-label"),a.Nc(33),a.cc(),a.Yb(34,"input",12),a.cc(),a.dc(35,"mat-form-field"),a.dc(36,"mat-label"),a.Nc(37),a.cc(),a.Yb(38,"input",13),a.cc(),a.dc(39,"mat-form-field",5),a.dc(40,"mat-label"),a.Nc(41),a.cc(),a.Yb(42,"textarea",14),a.cc(),a.cc(),a.cc(),a.Yb(43,"br"),a.Yb(44,"mat-divider"),a.Yb(45,"br"),a.dc(46,"div",15),a.dc(47,"button",16),a.lc("click",(function(){return c.onClickCancel()})),a.dc(48,"mat-icon"),a.Nc(49,"close"),a.cc(),a.Nc(50),a.cc(),a.dc(51,"button",17),a.lc("click",(function(){return c.guardar()})),a.dc(52,"mat-icon"),a.Nc(53,"save"),a.cc(),a.Nc(54),a.cc(),a.cc()),2&t&&(a.Kb(4),a.Oc(c.title),a.Kb(2),a.vc("formGroup",c.formGroup),a.Kb(4),a.Oc(c.i18n.DTO.NORMA_RECURSO),a.Kb(4),a.vc("ngForOf",c.componentes),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_CONCEPTO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_CONCEPTO),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_TIPO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_TIPO),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_NUMERO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_NUMERO),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_ANIO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_ANIO),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_ENTIDAD_EMISORA),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_ENTIDAD_EMISORA),a.Kb(3),a.Oc(c.i18n.DTO.ESTADO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.ESTADO),a.Kb(3),a.Oc(c.i18n.DTO.NORMA_DESCRIPCION),a.Kb(1),a.vc("placeholder",c.i18n.DTO.NORMA_DESCRIPCION),a.Kb(8),a.Pc("",c.i18n.CANCEL," "),a.Kb(1),a.vc("disabled",c.formGroup.invalid),a.Kb(3),a.Pc("",c.i18n.GUARDAR," "))},directives:[D.a,N.a,I.r,I.k,I.e,w.c,w.f,_.a,I.j,I.d,I.p,P.n,l.l,S.b,I.b,I.n,K.a],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-form-field2[_ngcontent-%COMP%]{width:100%}"]}),t})();var y=e("Q6lY"),k=e("Qu3c");function q(t,c){if(1&t){const t=a.ec();a.dc(0,"div",21),a.dc(1,"button",20),a.lc("click",(function(){return a.Ec(t),a.pc().nuevo()})),a.dc(2,"mat-icon"),a.Nc(3,"add_circle"),a.cc(),a.Nc(4),a.cc(),a.cc()}if(2&t){const t=a.pc();a.Kb(4),a.Pc("",t.i18n.MATRIZ.CREAR_NORMA," ")}}function G(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NORMA_RECURSO)}}function B(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit,e=a.pc();a.Kb(1),a.Pc(" ",e.getComponenteById(t.recurso)," ")}}function Z(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NORMA_CONCEPTO)}}function j(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc(" ",t.concepto," ")}}function Y(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NORMA_TIPO)}}function $(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc(" ",t.tiponorma," ")}}function U(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NORMA_NUMERO)}}function V(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",t.numeroNorma," ")}}function X(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NORMA_ANIO)}}function W(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",t.anio," ")}}function H(t,c){if(1&t&&(a.dc(0,"th",22),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.ESTADO)}}function F(t,c){if(1&t&&(a.dc(0,"td",23),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",t.estado," ")}}function Q(t,c){if(1&t){const t=a.ec();a.dc(0,"div",26),a.dc(1,"p"),a.dc(2,"button",28),a.lc("click",(function(){a.Ec(t);const c=a.pc().$implicit;return a.pc().editar(c)})),a.dc(3,"mat-icon"),a.Nc(4,"edit"),a.cc(),a.cc(),a.dc(5,"button",28),a.lc("click",(function(){a.Ec(t);const c=a.pc().$implicit;return a.pc().eliminar(c)})),a.dc(6,"mat-icon"),a.Nc(7,"delete"),a.cc(),a.cc(),a.cc(),a.cc()}if(2&t){const t=a.pc(2);a.Kb(2),a.vc("matTooltip",t.i18n.EDITAR),a.Kb(3),a.vc("matTooltip",t.i18n.ELIMINAR)}}function J(t,c){if(1&t&&(a.dc(0,"td",23),a.dc(1,"div",24),a.Lc(2,Q,8,2,"div",25),a.dc(3,"div",26),a.dc(4,"span",27),a.Nc(5),a.cc(),a.dc(6,"p"),a.Nc(7),a.cc(),a.cc(),a.cc(),a.cc()),2&t){const t=c.$implicit,e=a.pc();a.Lb("colspan",e.displayedColumns.length),a.Kb(1),a.vc("@detailExpand",t==e.expandedElement?"expanded":"collapsed"),a.Kb(1),a.vc("ngIf",!e.readonly),a.Kb(3),a.Oc(e.i18n.DTO.NORMA_DESCRIPCION),a.Kb(2),a.Oc(t.descripcion)}}function tt(t,c){1&t&&a.Yb(0,"tr",29)}function ct(t,c){if(1&t){const t=a.ec();a.dc(0,"tr",30),a.lc("click",(function(){a.Ec(t);const e=c.$implicit,i=a.pc();return i.expandedElement=i.expandedElement===e?null:e})),a.cc()}if(2&t){const t=c.$implicit,e=a.pc();a.Ob("example-expanded-row",e.expandedElement===t)}}function et(t,c){1&t&&a.Yb(0,"tr",31)}const it=function(){return["expandedDetail"]};let nt=(()=>{class t{constructor(t,c,e,i,n){this.matrizService=t,this.spinner=c,this.dialog=e,this.dialogRef=i,this.data=n,this.dataSource=null,this.displayedColumns=["Recurso","Concepto","TipoNorma","NumeroNorma","A\xf1o","Estado"],this.i18n=o.a,this.paginacion=new y.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.paginacion.valorABuscar=String(this.data.data.id)}ngOnInit(){this.readonly=this.data.readonly,this.matrizService.getNormasByMatriz(this.paginacion).subscribe(t=>{this.dataSource=new R.k(t.items),this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.onClickCancel()})}onClickCancel(){this.dialogRef.close()}editar(t){this.dialog.open(L,{data:{edit:!0,norma:t,matriz:this.data.data},width:"60vw",maxWidth:"80vw",maxHeight:"90vh"})}nuevo(){this.dialog.open(L,{data:{edit:!1,matriz:this.data.data},width:"60vw",maxWidth:"80vw",maxHeight:"90vh"})}eliminar(t){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_ELIMINAR_NORMA,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(c=>{c.isConfirmed&&(this.spinner.show(),this.matrizService.eliminarNorma(t).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_ELIMINAR_NORMA,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({html:""+Object(p.a)(t,o.a.MATRIZ.SWAL.ERROR_ELIMINAR_NORMA),icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}getComponenteById(t){return M.a.find(c=>c.id===t).nombreComponente}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.matrizService.getNormasByMatriz(this.paginacion).subscribe(t=>{this.spinner.hide(),this.dataSource=new R.k(t.items),this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina},t=>{this.spinner.hide()})}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(E.a),a.Xb(x.c),a.Xb(T.b),a.Xb(T.d),a.Xb(T.a))},t.\u0275cmp=a.Rb({type:t,selectors:[["app-listar-normas"]],decls:42,vars:10,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],["mat-dialog-actions","","class","div-right",4,"ngIf"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Recurso"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Concepto"],["matColumnDef","TipoNorma"],["matColumnDef","NumeroNorma"],["matColumnDef","A\xf1o"],["matColumnDef","Estado"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-dialog-actions","",2,"text-align","right"],["mat-button","","color","accent",3,"click"],["mat-dialog-actions","",1,"div-right"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],["class","example-element-description",4,"ngIf"],[1,"example-element-description"],[1,"example-element-description-attribution"],["mat-button","","color","accent",3,"matTooltip","click"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,c){1&t&&(a.dc(0,"button",0),a.lc("click",(function(){return c.onClickCancel()})),a.dc(1,"mat-icon",1),a.Nc(2,"close"),a.cc(),a.cc(),a.dc(3,"h1",2),a.Nc(4),a.cc(),a.Yb(5,"mat-divider"),a.dc(6,"div",3),a.Lc(7,q,5,1,"div",4),a.Yb(8,"br"),a.dc(9,"table",5),a.bc(10,6),a.Lc(11,G,2,1,"th",7),a.Lc(12,B,2,1,"td",8),a.ac(),a.bc(13,9),a.Lc(14,Z,2,1,"th",7),a.Lc(15,j,2,1,"td",8),a.ac(),a.bc(16,10),a.Lc(17,Y,2,1,"th",7),a.Lc(18,$,2,1,"td",8),a.ac(),a.bc(19,11),a.Lc(20,U,2,1,"th",7),a.Lc(21,V,2,1,"td",8),a.ac(),a.bc(22,12),a.Lc(23,X,2,1,"th",7),a.Lc(24,W,2,1,"td",8),a.ac(),a.bc(25,13),a.Lc(26,H,2,1,"th",7),a.Lc(27,F,2,1,"td",8),a.ac(),a.bc(28,14),a.Lc(29,J,8,5,"td",8),a.ac(),a.Lc(30,tt,1,0,"tr",15),a.Lc(31,ct,1,2,"tr",16),a.Lc(32,et,1,0,"tr",17),a.cc(),a.dc(33,"mat-paginator",18),a.lc("page",(function(t){return c.pageEvent=c.paginationData(t)})),a.cc(),a.cc(),a.Yb(34,"br"),a.Yb(35,"mat-divider"),a.Yb(36,"br"),a.dc(37,"div",19),a.dc(38,"button",20),a.lc("click",(function(){return c.onClickCancel()})),a.dc(39,"mat-icon"),a.Nc(40,"close"),a.cc(),a.Nc(41),a.cc(),a.cc()),2&t&&(a.Kb(4),a.Pc("Normas Matriz ",c.data.data.nombreMatriz,""),a.Kb(3),a.vc("ngIf",!c.readonly),a.Kb(2),a.vc("dataSource",c.dataSource),a.Kb(21),a.vc("matHeaderRowDef",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",a.xc(9,it)),a.Kb(1),a.vc("pageSize",c.registroPorPagina)("length",c.totalPaginas),a.Kb(8),a.Pc(" ",c.i18n.CERRAR," "))},directives:[D.a,N.a,K.a,l.m,R.j,R.c,R.e,R.b,R.g,R.i,C.a,R.d,R.a,k.a,R.f,R.h],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}*[_ngcontent-%COMP%]   .font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(v.n)("detailExpand",[Object(v.k)("collapsed",Object(v.l)({height:"0px",minHeight:"0"})),Object(v.k)("expanded",Object(v.l)({height:"*"})),Object(v.m)("expanded <=> collapsed",Object(v.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function ot(t,c){1&t&&(a.dc(0,"th",13),a.Nc(1," Codigo"),a.cc())}function at(t,c){if(1&t&&(a.dc(0,"td",14),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Oc(t.codigo)}}function rt(t,c){1&t&&(a.dc(0,"th",13),a.Nc(1," Version"),a.cc())}function dt(t,c){if(1&t&&(a.dc(0,"td",14),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Oc(t.version)}}function lt(t,c){if(1&t&&(a.dc(0,"th",13),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NOMBRE_MATRIZ)}}function st(t,c){if(1&t&&(a.dc(0,"td",14),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc(" ",t.nombreMatriz," ")}}function mt(t,c){if(1&t&&(a.dc(0,"th",13),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.FECHA_PUBLICACION)}}function pt(t,c){if(1&t&&(a.dc(0,"td",14),a.Nc(1),a.qc(2,"date"),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",a.sc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function ut(t,c){if(1&t&&(a.dc(0,"th",13),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.ENTIDAD_EMISORA)}}function ht(t,c){if(1&t&&(a.dc(0,"td",14),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",t.entidadEmisora," ")}}function ft(t,c){if(1&t){const t=a.ec();a.dc(0,"td",14),a.dc(1,"div",15),a.dc(2,"div",16),a.dc(3,"p"),a.dc(4,"button",17),a.lc("click",(function(){a.Ec(t);const e=c.$implicit;return a.pc().listarNormas(e)})),a.dc(5,"mat-icon"),a.Nc(6,"subject"),a.cc(),a.cc(),a.cc(),a.cc(),a.dc(7,"div",16),a.dc(8,"span",18),a.Nc(9),a.cc(),a.dc(10,"p"),a.Nc(11),a.cc(),a.cc(),a.dc(12,"div",16),a.dc(13,"span",18),a.Nc(14),a.cc(),a.dc(15,"p"),a.Nc(16),a.cc(),a.cc(),a.dc(17,"div",16),a.dc(18,"span",18),a.Nc(19),a.cc(),a.dc(20,"p"),a.Nc(21),a.cc(),a.cc(),a.dc(22,"div",16),a.dc(23,"span",18),a.Nc(24),a.cc(),a.dc(25,"p"),a.Nc(26),a.cc(),a.cc(),a.cc(),a.cc()}if(2&t){const t=c.$implicit,e=a.pc();a.Lb("colspan",e.displayedColumns.length),a.Kb(1),a.vc("@detailExpand",t==e.expandedElement?"expanded":"collapsed"),a.Kb(3),a.vc("matTooltip",e.i18n.MATRIZ.BTN_LISTAR_NORMA),a.Kb(5),a.Oc(e.i18n.DTO.RECURSO),a.Kb(2),a.Oc(t.recurso),a.Kb(3),a.Oc(e.i18n.DTO.TIPO_NORMA),a.Kb(2),a.Oc(t.tipoNormal),a.Kb(3),a.Oc(e.i18n.DTO.ESTADO),a.Kb(2),a.Oc(t.estado),a.Kb(3),a.Oc(e.i18n.DTO.DESCRIPCION),a.Kb(2),a.Oc(t.descripcionDeNorma)}}function bt(t,c){1&t&&a.Yb(0,"tr",19)}function Ot(t,c){if(1&t){const t=a.ec();a.dc(0,"tr",20),a.lc("click",(function(){a.Ec(t);const e=c.$implicit,i=a.pc();return i.expandedElement=i.expandedElement===e?null:e})),a.cc()}if(2&t){const t=c.$implicit,e=a.pc();a.Ob("example-expanded-row",e.expandedElement===t)}}function gt(t,c){1&t&&a.Yb(0,"tr",21)}const Nt=function(){return["expandedDetail"]},Ct=function(){return[5,10,15]};let Rt=(()=>{class t{constructor(t,c){this.matrizService=t,this.dialog=c,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Entidad"],this.i18n=o.a}ngOnInit(){this.matrizService.getMatrizCompradas().subscribe(t=>{const c=[];t.forEach(t=>{c.push(t.matriz)}),this.dataSource=new R.k(c),this.dataSource.paginator=this.paginator})}listarNormas(t){this.dialog.open(nt,{data:{data:t,readonly:!0},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(E.a),a.Xb(T.b))},t.\u0275cmp=a.Rb({type:t,selectors:[["matriz-mis-matrices"]],viewQuery:function(t,c){var e;1&t&&a.Jc(C.a,!0),2&t&&a.Ac(e=a.mc())&&(c.paginator=e.first)},decls:22,vars:7,consts:[["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Entidad"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"example-element-description"],["mat-button","","color","accent",3,"matTooltip","click"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,c){1&t&&(a.dc(0,"table",0),a.bc(1,1),a.Lc(2,ot,2,0,"th",2),a.Lc(3,at,2,1,"td",3),a.ac(),a.bc(4,4),a.Lc(5,rt,2,0,"th",2),a.Lc(6,dt,2,1,"td",3),a.ac(),a.bc(7,5),a.Lc(8,lt,2,1,"th",2),a.Lc(9,st,2,1,"td",3),a.ac(),a.bc(10,6),a.Lc(11,mt,2,1,"th",2),a.Lc(12,pt,3,4,"td",3),a.ac(),a.bc(13,7),a.Lc(14,ut,2,1,"th",2),a.Lc(15,ht,2,1,"td",3),a.ac(),a.bc(16,8),a.Lc(17,ft,27,11,"td",3),a.ac(),a.Lc(18,bt,1,0,"tr",9),a.Lc(19,Ot,1,2,"tr",10),a.Lc(20,gt,1,0,"tr",11),a.cc(),a.Yb(21,"mat-paginator",12)),2&t&&(a.vc("dataSource",c.dataSource),a.Kb(18),a.vc("matHeaderRowDef",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",a.xc(5,Nt)),a.Kb(1),a.vc("pageSizeOptions",a.xc(6,Ct)))},directives:[R.j,R.c,R.e,R.b,R.g,R.i,C.a,R.d,R.a,D.a,k.a,N.a,R.f,R.h],pipes:[l.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(v.n)("detailExpand",[Object(v.k)("collapsed",Object(v.l)({height:"0px",minHeight:"0"})),Object(v.k)("expanded",Object(v.l)({height:"*"})),Object(v.m)("expanded <=> collapsed",Object(v.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();class vt{}var Tt=e("sE+t");let At=(()=>{class t{constructor(t,c,e,i,n,a,r){this.dialogRef=t,this.data=c,this._formBuilder=e,this.spinner=i,this.dialog=n,this.matricesEmitService=a,this.matrizService=r,this.title=""+o.a.MATRIZ.TITLE_REGISTRO,this.i18n=o.a}ngOnInit(){this.formGroup=this._formBuilder.group({recurso:["",I.q.required],concepto:["",I.q.required],tipoNormal:["",I.q.required],numeroInternoMatriz:["",I.q.required],entidadEmisora:["",I.q.required],descripcionDeNorma:["",I.q.required],estado:["",I.q.required],nombreMatriz:["",I.q.required],version:["",I.q.required],codigo:["",I.q.required],especialidadId:[0,I.q.required],especialidadNombre:["",I.q.required]});var t=new l.f("en").transform(new Date,"yyyy-MM-dd");this.data.edit?(this.title=""+o.a.MATRIZ.TITLE_EDITAR,this.matriz=this.data.matriz,this.matriz.fechaActualizacion=t,this.getMatrizEditar()):(this.matriz=new vt,this.matriz.id=0,this.matriz.fechaActualizacion=t,this.matriz.fechaPublicacion=t),this.sectorEconomicoSubscribe=this.matricesEmitService.seleccionSector$.subscribe(t=>{null!=t&&(this.formGroup.controls.especialidadId.setValue(t.id),this.formGroup.controls.especialidadNombre.setValue(t.nombreEspecialidad))})}guardar(){this.data.edit?this.guardarExistente():this.guardarNuevo()}guardarExistente(){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_EDITAR,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.editar(this.matriz).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_EDITAR,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.ERROR_EDITAR,icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}guardarNuevo(){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_REGISTRO,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(t=>{t.isConfirmed&&(this.spinner.show(),this.setMatriz(),this.matrizService.crear(this.matriz).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_REGISTRO,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.ERROR_REGISTRO,icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}seleccionarSectorEconomico(){this.dialog.open(Tt.a,{data:{},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}setMatriz(){this.matriz.recurso=this.formGroup.controls.recurso.value,this.matriz.concepto=this.formGroup.controls.concepto.value,this.matriz.tipoNormal=this.formGroup.controls.tipoNormal.value,this.matriz.numeroInternoMatriz=this.formGroup.controls.numeroInternoMatriz.value,this.matriz.entidadEmisora=this.formGroup.controls.entidadEmisora.value,this.matriz.descripcionDeNorma=this.formGroup.controls.descripcionDeNorma.value,this.matriz.nombreMatriz=this.formGroup.controls.nombreMatriz.value,this.matriz.version=this.formGroup.controls.version.value,this.matriz.codigo=this.formGroup.controls.codigo.value,this.matriz.estado=this.formGroup.controls.estado.value,this.matriz.especialidadId=this.formGroup.controls.especialidadId.value}getMatrizEditar(){this.formGroup.controls.recurso.setValue(this.matriz.recurso),this.formGroup.controls.concepto.setValue(this.matriz.concepto),this.formGroup.controls.tipoNormal.setValue(this.matriz.tipoNormal),this.formGroup.controls.numeroInternoMatriz.setValue(this.matriz.numeroInternoMatriz),this.formGroup.controls.entidadEmisora.setValue(this.matriz.entidadEmisora),this.formGroup.controls.descripcionDeNorma.setValue(this.matriz.descripcionDeNorma),this.formGroup.controls.nombreMatriz.setValue(this.matriz.nombreMatriz),this.formGroup.controls.version.setValue(this.matriz.version),this.formGroup.controls.codigo.setValue(this.matriz.codigo),this.formGroup.controls.especialidadId.setValue(this.matriz.especialidadId),this.formGroup.controls.especialidadNombre.setValue(this.data.nameEspecialidad),this.formGroup.controls.estado.setValue(this.matriz.estado)}onClickCancel(){this.sectorEconomicoSubscribe.unsubscribe(),this.dialogRef.close()}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(T.d),a.Xb(T.a),a.Xb(I.c),a.Xb(x.c),a.Xb(T.b),a.Xb(h.a),a.Xb(E.a))},t.\u0275cmp=a.Rb({type:t,selectors:[["app-editar-matriz"]],decls:66,vars:27,consts:[["mat-icon-button","",1,"close-button",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-title","",1,"div-center"],["mat-dialog-content",""],[3,"formGroup"],["matInput","","formControlName","nombreMatriz","required","",3,"placeholder"],["matInput","","formControlName","codigo","required","",3,"placeholder"],["matInput","","formControlName","version","required","",3,"placeholder"],["matInput","","formControlName","especialidadNombre","readonly","",3,"placeholder"],["matSuffix","",3,"click"],["matInput","","formControlName","recurso","required","",3,"placeholder"],["matInput","","formControlName","concepto","required","",3,"placeholder"],["matInput","","formControlName","tipoNormal","required","",3,"placeholder"],["matInput","","formControlName","numeroInternoMatriz","required","",3,"placeholder"],[1,"mat-form-field2"],["matInput","","formControlName","descripcionDeNorma","required","",3,"placeholder"],["matInput","","formControlName","entidadEmisora","required","",3,"placeholder"],["matInput","","formControlName","estado","required","",3,"placeholder"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent","color","accent",3,"click"],["mat-button","","color","accent",3,"disabled","click"]],template:function(t,c){1&t&&(a.dc(0,"button",0),a.lc("click",(function(){return c.onClickCancel()})),a.dc(1,"mat-icon",1),a.Nc(2,"close"),a.cc(),a.cc(),a.dc(3,"h2",2),a.Nc(4),a.cc(),a.dc(5,"div",3),a.dc(6,"form",4),a.Yb(7,"br"),a.dc(8,"mat-form-field"),a.dc(9,"mat-label"),a.Nc(10),a.cc(),a.Yb(11,"input",5),a.cc(),a.dc(12,"mat-form-field"),a.dc(13,"mat-label"),a.Nc(14),a.cc(),a.Yb(15,"input",6),a.cc(),a.dc(16,"mat-form-field"),a.dc(17,"mat-label"),a.Nc(18),a.cc(),a.Yb(19,"input",7),a.cc(),a.dc(20,"mat-form-field"),a.dc(21,"mat-label"),a.Nc(22),a.cc(),a.Yb(23,"input",8),a.dc(24,"mat-icon",9),a.lc("click",(function(){return c.seleccionarSectorEconomico()})),a.Nc(25,"search"),a.cc(),a.cc(),a.dc(26,"mat-form-field"),a.dc(27,"mat-label"),a.Nc(28),a.cc(),a.Yb(29,"input",10),a.cc(),a.dc(30,"mat-form-field"),a.dc(31,"mat-label"),a.Nc(32),a.cc(),a.Yb(33,"input",11),a.cc(),a.dc(34,"mat-form-field"),a.dc(35,"mat-label"),a.Nc(36),a.cc(),a.Yb(37,"input",12),a.cc(),a.dc(38,"mat-form-field"),a.dc(39,"mat-label"),a.Nc(40),a.cc(),a.Yb(41,"input",13),a.cc(),a.dc(42,"mat-form-field",14),a.dc(43,"mat-label"),a.Nc(44),a.cc(),a.Yb(45,"textarea",15),a.cc(),a.dc(46,"mat-form-field"),a.dc(47,"mat-label"),a.Nc(48),a.cc(),a.Yb(49,"input",16),a.cc(),a.dc(50,"mat-form-field"),a.dc(51,"mat-label"),a.Nc(52),a.cc(),a.Yb(53,"input",17),a.cc(),a.cc(),a.cc(),a.Yb(54,"br"),a.Yb(55,"mat-divider"),a.Yb(56,"br"),a.dc(57,"div",18),a.dc(58,"button",19),a.lc("click",(function(){return c.onClickCancel()})),a.dc(59,"mat-icon"),a.Nc(60,"close"),a.cc(),a.Nc(61),a.cc(),a.dc(62,"button",20),a.lc("click",(function(){return c.guardar()})),a.dc(63,"mat-icon"),a.Nc(64,"save"),a.cc(),a.Nc(65),a.cc(),a.cc()),2&t&&(a.Kb(4),a.Oc(c.title),a.Kb(2),a.vc("formGroup",c.formGroup),a.Kb(4),a.Oc(c.i18n.DTO.MATRIZ_NOMBRE),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_NOMBRE),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_CODIGO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_CODIGO),a.Kb(3),a.Oc(c.i18n.DTO.VERSION),a.Kb(1),a.vc("placeholder",c.i18n.DTO.VERSION),a.Kb(3),a.Oc(c.i18n.DTO.SECTOR_ECONOMICO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.SECTOR_ECONOMICO),a.Kb(5),a.Oc(c.i18n.DTO.MATRIZ_RECURSO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_RECURSO),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_CONCEPTO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_CONCEPTO),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_TIPO_NORMA),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_TIPO_NORMA),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_NUMERO_INTERNO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_NUMERO_INTERNO),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_DESCRIPCION_NORMA),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_DESCRIPCION_NORMA),a.Kb(3),a.Oc(c.i18n.DTO.MATRIZ_ENTIDAD_EMISORA),a.Kb(1),a.vc("placeholder",c.i18n.DTO.MATRIZ_ENTIDAD_EMISORA),a.Kb(3),a.Oc(c.i18n.DTO.ESTADO),a.Kb(1),a.vc("placeholder",c.i18n.DTO.ESTADO),a.Kb(8),a.Pc("",c.i18n.CANCEL," "),a.Kb(1),a.vc("disabled",c.formGroup.invalid),a.Kb(3),a.Pc("",c.i18n.GUARDAR," "))},directives:[D.a,N.a,I.r,I.k,I.e,w.c,w.f,S.b,I.b,I.j,I.d,I.p,w.g,K.a],styles:[".close-button[_ngcontent-%COMP%]{float:right;top:-24px;right:-24px}.close-icon[_ngcontent-%COMP%]{transition:1s ease-in-out}.close-icon[_ngcontent-%COMP%]:hover{transform:rotate(180deg)}  .icon-outside .close-button{float:right;top:-52px;right:-52px}  .icon-outside .mat-dialog-container{overflow:unset}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.div-right[_ngcontent-%COMP%]{float:right}.mat-form-field[_ngcontent-%COMP%]{width:50%}.mat-form-field2[_ngcontent-%COMP%]{width:100%}"]}),t})();function It(t,c){1&t&&(a.dc(0,"th",17),a.Nc(1," Codigo"),a.cc())}function Mt(t,c){if(1&t&&(a.dc(0,"td",18),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Oc(t.codigo)}}function xt(t,c){1&t&&(a.dc(0,"th",17),a.Nc(1," Version"),a.cc())}function Et(t,c){if(1&t&&(a.dc(0,"td",18),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Oc(t.version)}}function Dt(t,c){if(1&t&&(a.dc(0,"th",17),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.NOMBRE_MATRIZ)}}function wt(t,c){if(1&t&&(a.dc(0,"td",18),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc(" ",t.nombreMatriz," ")}}function _t(t,c){if(1&t&&(a.dc(0,"th",17),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.FECHA_PUBLICACION)}}function Pt(t,c){if(1&t&&(a.dc(0,"td",18),a.Nc(1),a.qc(2,"date"),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",a.sc(2,1,t.fechaPublicacion,"dd/MM/yyyy")," ")}}function St(t,c){if(1&t&&(a.dc(0,"th",17),a.Nc(1),a.cc()),2&t){const t=a.pc();a.Kb(1),a.Oc(t.i18n.DTO.ENTIDAD_EMISORA)}}function Kt(t,c){if(1&t&&(a.dc(0,"td",18),a.Nc(1),a.cc()),2&t){const t=c.$implicit;a.Kb(1),a.Pc("",t.entidadEmisora," ")}}function zt(t,c){if(1&t){const t=a.ec();a.dc(0,"td",18),a.dc(1,"div",19),a.dc(2,"div",20),a.dc(3,"p"),a.dc(4,"button",21),a.lc("click",(function(){a.Ec(t);const e=c.$implicit;return a.pc().editar(e)})),a.dc(5,"mat-icon"),a.Nc(6,"edit"),a.cc(),a.cc(),a.dc(7,"button",21),a.lc("click",(function(){a.Ec(t);const e=c.$implicit;return a.pc().eliminar(e)})),a.dc(8,"mat-icon"),a.Nc(9,"delete"),a.cc(),a.cc(),a.dc(10,"button",21),a.lc("click",(function(){a.Ec(t);const e=c.$implicit;return a.pc().listarNormas(e)})),a.dc(11,"mat-icon"),a.Nc(12,"subject"),a.cc(),a.cc(),a.cc(),a.cc(),a.dc(13,"div",20),a.dc(14,"span",22),a.Nc(15),a.cc(),a.dc(16,"p"),a.Nc(17),a.qc(18,"date"),a.cc(),a.cc(),a.dc(19,"div",20),a.dc(20,"span",22),a.Nc(21),a.cc(),a.dc(22,"p"),a.Nc(23),a.cc(),a.cc(),a.dc(24,"div",20),a.dc(25,"span",22),a.Nc(26),a.cc(),a.dc(27,"p"),a.Nc(28),a.cc(),a.cc(),a.dc(29,"div",20),a.dc(30,"span",22),a.Nc(31),a.cc(),a.dc(32,"p"),a.Nc(33),a.cc(),a.cc(),a.dc(34,"div",20),a.dc(35,"span",22),a.Nc(36),a.cc(),a.dc(37,"p"),a.Nc(38),a.cc(),a.cc(),a.dc(39,"div",20),a.dc(40,"span",22),a.Nc(41),a.cc(),a.dc(42,"p"),a.Nc(43),a.cc(),a.cc(),a.cc(),a.cc()}if(2&t){const t=c.$implicit,e=a.pc();a.Lb("colspan",e.displayedColumns.length),a.Kb(1),a.vc("@detailExpand",t==e.expandedElement?"expanded":"collapsed"),a.Kb(3),a.vc("matTooltip",e.i18n.EDITAR),a.Kb(3),a.vc("matTooltip",e.i18n.ELIMINAR),a.Kb(3),a.vc("matTooltip",e.i18n.MATRIZ.BTN_LISTAR_NORMA),a.Kb(5),a.Oc(e.i18n.DTO.FECHA_ACTUALIZACION),a.Kb(2),a.Pc("",a.sc(18,17,t.fechaActualizacion,"dd/MM/yyyy")," "),a.Kb(4),a.Oc(e.i18n.DTO.SECTOR_ECONOMICO),a.Kb(2),a.Oc(e.findNameEspecialidadById(t.especialidadId)),a.Kb(3),a.Oc(e.i18n.DTO.RECURSO),a.Kb(2),a.Oc(t.recurso),a.Kb(3),a.Oc(e.i18n.DTO.TIPO_NORMA),a.Kb(2),a.Oc(t.tipoNormal),a.Kb(3),a.Oc(e.i18n.DTO.ESTADO),a.Kb(2),a.Oc(t.estado),a.Kb(3),a.Oc(e.i18n.DTO.DESCRIPCION),a.Kb(2),a.Oc(t.descripcionDeNorma)}}function Lt(t,c){1&t&&a.Yb(0,"tr",23)}function yt(t,c){if(1&t){const t=a.ec();a.dc(0,"tr",24),a.lc("click",(function(){a.Ec(t);const e=c.$implicit,i=a.pc();return i.expandedElement=i.expandedElement===e?null:e})),a.cc()}if(2&t){const t=c.$implicit,e=a.pc();a.Ob("example-expanded-row",e.expandedElement===t)}}function kt(t,c){1&t&&a.Yb(0,"tr",25)}const qt=function(){return["expandedDetail"]};let Gt=(()=>{class t{constructor(t,c,e,i){this.matrizService=t,this.dialog=c,this.especialidadService=e,this.spinner=i,this.dataSource=null,this.displayedColumns=["Fecha","Nombre","Codigo","Version","Entidad"],this.especialidadesListaLineal=[],this.paginacion=new y.a,this.paginacion.paginaNumero=1,this.paginacion.paginaSize=10,this.i18n=o.a}ngOnInit(){this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.registroPorPagina=t.registroPorPagina,this.totalPaginas=10*t.totalPaginas}),this.especialidadService.getTodasEspecialidades().subscribe(t=>{this.construirArrayLineal(t)})}nuevo(){this.dialog.open(At,{data:{edit:!1,matriz:null},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}editar(t){const c={edit:!0,matriz:t,nameEspecialidad:this.findNameEspecialidadById(t.especialidadId)};this.dialog.open(At,{data:c,width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}eliminar(t){m.a.fire({title:""+o.a.MATRIZ.SWAL.QUESTION_ELIMINAR,icon:"question",showCancelButton:!0,confirmButtonText:""+o.a.SI,cancelButtonText:""+o.a.NO}).then(c=>{c.isConfirmed&&(this.spinner.show(),this.matrizService.eliminar(t).subscribe(t=>{this.spinner.hide(),m.a.fire({text:""+o.a.MATRIZ.SWAL.SUCCESS_ELIMINAR,icon:"success",confirmButtonText:""+o.a.ACEPTAR}).then(t=>{location.reload()})},t=>{this.spinner.hide(),m.a.fire({html:""+Object(p.a)(t,o.a.MATRIZ.SWAL.ERROR_ELIMINAR),icon:"error",confirmButtonText:""+o.a.ACEPTAR})}))})}listarNormas(t){this.dialog.open(nt,{data:{data:t,readonly:!1},width:"80vw",maxWidth:"80vw",maxHeight:"90vh"})}paginationData(t){this.spinner.show(),this.paginacion.paginaNumero=t.pageIndex+1,this.matrizService.getMatricesPaginadas(this.paginacion).subscribe(t=>{this.dataSource=t.items,this.totalPaginas=10*t.totalPaginas,this.registroPorPagina=t.registroPorPagina,this.spinner.hide()},t=>{this.spinner.hide()})}findNameEspecialidadById(t){return this.especialidadesListaLineal.filter(c=>c.id===t)[0].nombreEspecialidad}construirArrayLineal(t){const c=Object.keys(t);for(let e of c)this.recorrerArray(t[e])}recorrerArray(t){for(let c of t)this.recorrerObject(c)}recorrerObject(t){this.especialidadesListaLineal.push(t),t.children&&this.recorrerArray(t.children)}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(E.a),a.Xb(T.b),a.Xb(u.a),a.Xb(x.c))},t.\u0275cmp=a.Rb({type:t,selectors:[["matriz-gestion-matriz"]],decls:31,vars:9,consts:[[1,"contenedor"],[1,"div-center"],["mat-dialog-actions","",1,"div-right"],["mat-button","","color","accent",3,"click"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Codigo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Version"],["matColumnDef","Nombre"],["matColumnDef","Fecha"],["matColumnDef","Entidad"],["matColumnDef","expandedDetail"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",3,"example-expanded-row","click",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","page"],["mat-header-cell",""],["mat-cell",""],[1,"example-element-detail"],[1,"example-element-description"],["mat-button","","color","accent",3,"matTooltip","click"],[1,"example-element-description-attribution"],["mat-header-row",""],["mat-row","",1,"example-element-row",3,"click"],["mat-row","",1,"example-detail-row"]],template:function(t,c){1&t&&(a.dc(0,"mat-card",0),a.dc(1,"mat-card-title",1),a.Nc(2),a.cc(),a.dc(3,"div",2),a.dc(4,"button",3),a.lc("click",(function(){return c.nuevo()})),a.dc(5,"mat-icon"),a.Nc(6,"add_circle"),a.cc(),a.Nc(7),a.cc(),a.cc(),a.Yb(8,"br"),a.dc(9,"table",4),a.bc(10,5),a.Lc(11,It,2,0,"th",6),a.Lc(12,Mt,2,1,"td",7),a.ac(),a.bc(13,8),a.Lc(14,xt,2,0,"th",6),a.Lc(15,Et,2,1,"td",7),a.ac(),a.bc(16,9),a.Lc(17,Dt,2,1,"th",6),a.Lc(18,wt,2,1,"td",7),a.ac(),a.bc(19,10),a.Lc(20,_t,2,1,"th",6),a.Lc(21,Pt,3,4,"td",7),a.ac(),a.bc(22,11),a.Lc(23,St,2,1,"th",6),a.Lc(24,Kt,2,1,"td",7),a.ac(),a.bc(25,12),a.Lc(26,zt,44,20,"td",7),a.ac(),a.Lc(27,Lt,1,0,"tr",13),a.Lc(28,yt,1,2,"tr",14),a.Lc(29,kt,1,0,"tr",15),a.cc(),a.dc(30,"mat-paginator",16),a.lc("page",(function(t){return c.pageEvent=c.paginationData(t)})),a.cc(),a.cc()),2&t&&(a.Kb(2),a.Pc(" ",c.i18n.MATRIZ.LISTA_MATRICES," "),a.Kb(5),a.Pc("",c.i18n.MATRIZ.CREAR_MATRIZ," "),a.Kb(2),a.vc("dataSource",c.dataSource),a.Kb(18),a.vc("matHeaderRowDef",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",c.displayedColumns),a.Kb(1),a.vc("matRowDefColumns",a.xc(8,qt)),a.Kb(1),a.vc("pageSize",c.registroPorPagina)("length",c.totalPaginas))},directives:[f.a,f.i,D.a,N.a,R.j,R.c,R.e,R.b,R.g,R.i,C.a,R.d,R.a,k.a,R.f,R.h],pipes:[l.f],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}.div-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid #000;padding:8px;font-weight:lighter;margin:8px 0;height:104px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}"],data:{animation:[Object(v.n)("detailExpand",[Object(v.k)("collapsed",Object(v.l)({height:"0px",minHeight:"0"})),Object(v.k)("expanded",Object(v.l)({height:"*"})),Object(v.m)("expanded <=> collapsed",Object(v.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})();function Bt(t,c){if(1&t&&(a.dc(0,"mat-icon"),a.Nc(1,"list"),a.cc(),a.Nc(2)),2&t){const t=a.pc(2);a.Kb(2),a.Pc("",t.i18n.MATRIZ.TAB_MATRIZ," ")}}function Zt(t,c){1&t&&(a.dc(0,"mat-tab"),a.Lc(1,Bt,3,1,"ng-template",1),a.Yb(2,"matriz-matrices"),a.cc())}function jt(t,c){if(1&t&&(a.dc(0,"mat-icon"),a.Nc(1,"history_edu"),a.cc(),a.Nc(2)),2&t){const t=a.pc(2);a.Kb(2),a.Pc("",t.i18n.MATRIZ.TAB_MIS_MATRICES," ")}}function Yt(t,c){1&t&&(a.dc(0,"mat-tab"),a.Lc(1,jt,3,1,"ng-template",1),a.Yb(2,"matriz-mis-matrices"),a.cc())}function $t(t,c){if(1&t&&(a.dc(0,"mat-icon"),a.Nc(1,"settings_system_daydream"),a.cc(),a.Nc(2)),2&t){const t=a.pc(2);a.Kb(2),a.Pc("",t.i18n.MATRIZ.TAB_MATRIZ_GESTION," ")}}function Ut(t,c){1&t&&(a.dc(0,"mat-tab"),a.Lc(1,$t,3,1,"ng-template",1),a.Yb(2,"matriz-gestion-matriz"),a.cc())}const Vt=[{path:"",component:(()=>{class t{constructor(t){this.authService=t,this.i18n=o.a}ngOnInit(){}isCliente(){return this.authService.isCliente()}isAdmin(){return this.authService.isAdmin()}isProveedor(){return this.authService.isProveedor()}}return t.\u0275fac=function(c){return new(c||t)(a.Xb(r.a))},t.\u0275cmp=a.Rb({type:t,selectors:[["app-matriz-main"]],decls:4,vars:3,consts:[[4,"ngIf"],["mat-tab-label",""]],template:function(t,c){1&t&&(a.dc(0,"mat-tab-group"),a.Lc(1,Zt,3,0,"mat-tab",0),a.Lc(2,Yt,3,0,"mat-tab",0),a.Lc(3,Ut,3,0,"mat-tab",0),a.cc()),2&t&&(a.Kb(1),a.vc("ngIf",c.isProveedor()||c.isCliente()),a.Kb(1),a.vc("ngIf",c.isProveedor()||c.isCliente()),a.Kb(1),a.vc("ngIf",c.isAdmin()))},directives:[d.b,l.m,d.a,d.c,g,N.a,Rt,Gt],styles:[""]}),t})(),canActivate:[n.a]}];let Xt=(()=>{class t{}return t.\u0275mod=a.Vb({type:t}),t.\u0275inj=a.Ub({factory:function(c){return new(c||t)},imports:[[i.e.forChild(Vt)],i.e]}),t})();var Wt=e("W/RB"),Ht=e("tk/3"),Ft=e("x4Iw"),Qt=e("212I");let Jt=(()=>{class t{}return t.\u0275mod=a.Vb({type:t}),t.\u0275inj=a.Ub({factory:function(c){return new(c||t)},providers:[{provide:Ht.a,useClass:Ft.a,multi:!0},{provide:Ht.a,useClass:Qt.a,multi:!0}],imports:[[Wt.a,Xt]]}),t})()}}]);